<html>
<head>
   <meta charset="UTF-8">
   <title>Quorum Map</title>
<style>
*[TODO]         { color:red; font-weight: bold; }
*[TODO]:before  { content: "TODO:"; }
*[xxxsmall]{ font-size:0.1rem; }
*[xxsmall] { font-size:0.3rem; }
*[xsmall]  { font-size:0.7rem; }
ul { margin-left: 1.0em; padding-left: 0rem; }
#zoomDiv *[xxxsmall]{ font-size:1rem; } 
#zoomDiv *[ xxsmall]{ font-size:1rem; }
#zoomDiv *[  xsmall]{ font-size:1rem; }


body      { font-family:sans-serif; padding: 0; margin: 0; }
#zoomDiv  { 
   position:fixed; top:1%; left:1%; width:auto; height:auto;
   max-height: 98%; max-width: 98%; overflow: auto;
   background-color:#FFFFFF; color:#000; border-radius: 0.5rem; border: 4px solid black; font-size: 2rem;
   box-shadow: 5px 5px 30px black;
   padding: 0.5rem;
}
a            { text-decoration:none; font-family:monospace; padding:0.1em;}
a[href^="#"]:before /* mark internal anchor */ {  content: ">"; }
a[href^="#"]:after  /* mark internal anchor */ {  content: "<"; }
a:visited { color:blue; }
td { 
   font-size: 0.8rem;
   vertical-align: top;
   outline: 1px solid grey; 
}
td[topic] {background-color:#FFFFFF; min-width:5%; max-width:10%; font-size: 1rem;}
td[summa] {background-color:#FAFAFA; min-width:30%; max-width:30%; }
td[col1]   {background-color:#FFFFFF; min-width:30%; max-width:30%; }
td[col2]  {background-color:#FFFFFF; min-width:30%; max-width:30%; }
tr[header_delimit] > *{background-color:#000000; color:#FFFFFF; font-size:2em; }
</style>

<script>
var zoomDivDOM
function onZoomDivDoubleClick() { zoomDivDOM.innerHTML = ''; }
function onTDDoubleClick()      { zoomDivDOM.innerHTML = "('Esc' to close)<br/>" + this.innerHTML; }

function onPageLoaded() {
  zoomDivDOM = document.getElementById('zoomDiv')
  zoomDivDOM.addEventListener('dblclick',onZoomDivDoubleClick, false)
  document.addEventListener('keyup',function(e) { if (e.code !== "Escape") return; onZoomDivDoubleClick(); })
  // Change default a.target to blank. Ussually this is bad practice 
  // but this is the exception to the rule
  var nodeList = document.querySelectorAll('a')
  for (idx in nodeList) { 
      if (!nodeList[idx].href) { continue; }
      if (nodeList[idx].href && !nodeList[idx].href.startsWith("http")) continue;
      nodeList[idx].target='_blank'; 
  }
  nodeList = document.querySelectorAll('td')
  for (idx in nodeList) { 
     if (!!! nodeList[idx].addEventListener) continue;
     nodeList[idx].addEventListener('dblclick',onTDDoubleClick, false)
  }
  setTimeout(onZoomDivDoubleClick, 3000);
}
</script>
</head>
<!--
ROW TEMPLATE:
<tr {>
  <td topic >topic</td> 
  <td summa >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>

  </td>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2  >
  </td>
</tr }>
-->
<body onLoad='onPageLoaded()'>
<div id='zoomDiv'>Hint: double-click on cell to zoom!!</div>
<br/> <br/> <br/> <br/>
<table>
<tr header_delimit {>
  <td topic >topic</td>
  <td summa >summa</td>
  <td col1  ></td>
  <td col2  ></td>
</tr>
<tr {>
  <td topic >Quorum</td>
  <td summa >
    <p>The primary features of Quorum, and therefore extensions over public Ethereum, are:</p>
    <ul>
      <li>Transaction and contract privacy</li>
      <li>Multiple voting-based consensus mechanisms</li>
      <li>Network/Peer permissions management</li>
      <li>Higher performance</li>
    </ul>
    <p>Quorum currently includes the following components:</p>
    <ul>
      <li>Quorum Node (modified Geth Client)</li>
      <li>Constellation - Transaction Manager</li>
      <li>Constellation - Enclave</li>
    </ul>
    <p>The Quorum Node includes the following modifications to geth:</p>
    <ol>
      <li>‘Proof of work’ consensus algorithm has been replaced with ‘QuorumChain’ consensus, a vote-based consensus mechanism.</li>
      <li>The P2P layer has been modified to only allow connections to/from permissioned nodes.</li>
      <li>The block generation logic has been modified to replace the ‘global state root’ check with a new ‘global public state root’.</li>
      <li>The block validation logic has been modified to replace the ‘global state root’ in the block header with the ‘global public state root’</li>
      <li>The State Patricia trie has been split into two: a public state trie and a private state trie.</li>
      <li>Block validation logic has been modified to handle ‘Private Transactions’</li>
      <li>Transaction creation has been modified to allow for Transaction data to be replaced by encrypted hashes in order to preserve private data where required</li>
      <li>The pricing of Gas has been removed, although Gas itself remains</li>
    </ol>
  </td>
  <td col1  >
    <ul>
    <li><a href='https://github.com/jpmorganchase/quorum/tree/master/docs'>docs@GitHub</a> Whitepaper (PDF), Design, Privacy, Running, API</li>
    <li><a href='https://github.com/jpmorganchase/quorum/wiki'>Wiki@GitHub</a></li>
    <li><a href='https://www.jpmorgan.com/country/ES/en/Quorum'>J.P.Morgan Quorum Home Page</a></li>
    </ul>
  </td>
  <td col2  >
    <ul>
    <li>
        <a href='https://github.com/jpmorganchase/quorum/wiki/Getting-Set-Up'>Getting-Set-Up</a>
        <ul>
        <li>Using Quorum requires installing, configuring and running 'Quorum Node' + 'Constellation server'
        <li>Manually set up Quorum: [ key generation, genesis block , constellation configuration ]</li>
        <li>Building Quorum Node From Source:
          <pre>
git clone https://github.com/jpmorganchase/quorum.git
cd quorum
make all # Binaries output: ./build/bin
make test
          </pre>
        </li>
    </li>
    <li>
      <p><a href='https://github.com/jpmorganchase/quorum/wiki/Using-Quorum'  >Using-Quorum</a></p>
      <p> Extra geth Quorum Options:</p>
      <pre>
  --voteaccount value         Address that is used to vote for blocks
  --votepassword value        Password to unlock the voting address
  --blockmakeraccount value   Address that is used to create blocks
  --blockmakerpassword value  Password to unlock the block maker address
  --singleblockmaker          Indicate this node is the only node that can create blocks
  --minblocktime value        Set minimum block time (default: 3)
  --maxblocktime value        Set max block time (default: 10)
  --permissioned              If enabled, the node will allow only a defined list of nodes to connect
      </pre>
    </li>
    <li>
      <p TODO><a href="https://github.com/jpmorganchase/quorum/blob/master/docs/running.md">ReadMe</a> contains instructions on how to initialize a Quorum network and start Quorum nodes with various roles:
        Maker,Voter, Observer</p>

    <li>Initialize chain:
      <ol>
        <li>Generate the genesis block
         <p>The genesis block should include the Quorum voting contract address '0x0000000000000000000000000000000000000020'</p>
         <p>The code can be generated with 
            <a href='http://ethereum.github.io/browser-solidity/#version=soljson-latest.js'>browser solidity</a>
            or with:
            <pre>
solc --optimize --bin-runtime block_voting.sol
            </pre>
         </p>
         <p>Example genesis file (copy to `genesis.json`):
           <pre xxxsmall {>
{
  "alloc": {
    "0x0000000000000000000000000000000000000020": {
      "code": "6060...656",
      "storage": {
        "0x0000000000000000000000000000000000000000000000000000000000000001": "0x02",
        "0x0000000000000000000000000000000000000000000000000000000000000002": "0x04",
        "0x29ecdbdf95c7f6ceec92d6150c697aa14abeb0f8595dd58d808842ea237d8494": "0x01",
        "0x6aa118c6537572d8b515a9f9154be55a3377a8de7991cd23bf6e5ceb368688e3": "0x01",
        "0x50793743212c6f01d326957d7069005b912f8215f10c7536be6b10782c6c44cd": "0x01",
        "0x38f6c908c5cc7ca668cec2f476abe61b4dbb1df20f0ad8e07ef5dbf6a2f1ffd4": "0x01",
        "0x0000000000000000000000000000000000000000000000000000000000000004": "0x02",
        "0xaca3b76ed4968740c3180dd7fa37f4aa229a2c758a848f53920e9ccb4c4bb74e": "0x01",
        "0xd188ba2dc293670542c1befaf7678b0859e5354a0727d1188b2afb6f47fe24d1": "0x01"
      }
    },
    "0xed9d02e382b34818e88b88a309c7fe71e65f419d": { "balance": "1000000000000000000000000000" },
    "0xca843569e3427144cead5e4d5999a3d0ccf92b8e": { "balance": "1000000000000000000000000000" },
    "0x0fbdc686b912d7722dc86510934589e0aaf3b55a": { "balance": "1000000000000000000000000000" },
    "0x9186eb3d20cbd1f5f992a950d808c4495153abd5": { "balance": "1000000000000000000000000000" },
    "0x0638e1574728b6d862dd5d3a3e0942c3be47d996": { "balance": "1000000000000000000000000000" }
  },
  "coinbase": "0x0000000000000000000000000000000000000000",
  "config": { "homesteadBlock": 0 },
  "difficulty": "0x0",
  "extraData": "0x",
  "gasLimit": "0x2FEFD800",
  "mixhash": "0x00000000000000000000000000000000000000647572616c65787365646c6578",
  "nonce": "0x0",
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "timestamp": "0x00"
}
           </pre }>
         </p>
        </li>
        <li>initialize geth:
           <pre> $ geth init genesis.json </pre>
        </li>
      </ol>
      <li>The storage key for voters and block makers is calculated with 
          <em>web3.sha3(<256 padded bit aligned key value> + <256 padded bit variable index>)</em> like:
          <pre xxsmall>
(geth JS console)
 account_address_voting = "000000000000000000000000ed9d02e382b34818e88b88a309c7fe71e65f419d"
 // REF: <a href='https://github.com/jpmorganchase/quorum/blob/master/core/quorum/block_voting.sol#L42'>block_voting.sol</a>
 // * Period[] periods                        index 0
 // * uint public voteThreshold               index 1
 // * uint public voterCount                  index 2
 // * mapping(address => bool) public canVote index 3
 votingSmartContract_canVote_index_3 = "0000000000000000000000000000000000000000000000000000000000000003"
 key = account_address_voting + votingSmartContract_canVote_index_3
 web3.sha3(key, {"encoding": "hex"})
"0x29ecdbdf95c7f6ceec92d6150c697aa14abeb0f8595dd58d808842ea237d8494"
          </pre>
      </li>
      <li>(Optional)  Setup Bootnode that all the other nodes will first connect to in order to find other peers in the network.
        <ol>
          <li>To generate the key for the first time:
            <pre>
bootnode -genkey tmp_file.txt  
            </pre>
            this will start a bootnode with an enode address and generate a key inside a “tmp_file.txt” file
          </li>
          <li>To later restart the bootnode using the same key (and hence use the same enode url):
            <pre>
$ bootnode -nodekey tmp_file.txt
or 
$ bootnode -nodekeyhex \ 
    77bd02ffa26e3fb8f324bda24ae588066f1873d95680104de5bc2db9e7b2e510 
    # Key from tmp_file.txt
            </pre>
          </li>
        </li>
        <li>Start node:
          <pre>
# Start WITHOUT ANY ROLES (makes node an spectator)
$ geth

# Start with VOTING ROLE
$ geth       --voteaccount 0xed9d02e382b34818e88b88a309c7fe71e65f419d 

# Start with BLOCK MAKER ROLE
$ geth --blockmakeraccount 0x9186eb3d20cbd1f5f992a950d808c4495153abd5 
                           ^blocks will be signed with this account
Optional params:
#  --bootnodes $BOOTNODE_ENODE : Optional, indicates the booting node
          </pre>
        </li>
    </li>


    </li>
  </td>
</tr }>

<tr {>
  <td topic >Constellation</td>
  <td summa >
    Constellation forms a network of nodes, each of which advertises a list of public keys that they are the recipient for. Each node exposes an API which allows the user to send a payload to one or more public keys. That payload will be encrypted for the public key before being transferred over the wire to the recipient node. You can think of it as a network of Mail Transfer Agents (MTAs) exchanging PGP-encrypted emails.<br/>
    Constellation is a general-purpose system for submitting information in a secure way. It is comparable to a network of MTA (Message Transfer Agents) where messages are encrypted with PGP. It is not blockchain-specific, and is potentially applicable in many other types of applications where you want individually-sealed message exchange within a network of counterparties.<br/>
</td>
  <td col1  >
    <ul>
      <li><a href='https://github.com/jpmorganchase/constellation'>GitHub</a></li>
    </ul>
  </td>
  <td col2  >
    <ul>
      <li>Installation instructions @<a href='https://github.com/jpmorganchase/constellation'>GitHub</a></li>
      <li>Binaries available at: <a href='https://github.com/jpmorganchase/constellation/releases'>https://github.com/jpmorganchase/constellation/releases</a>
      </li>
    </ul>

  </td>
</tr }>

<tr {>







  <td topic >Transaction Manager</td> 
  <td summa >
     <ul>
       <li>Quorum’s Transaction Manager is responsible for Transaction privacy. It stores and allows access to encrypted transaction data, exchanges encrypted payloads with other participant's Transaction Managers but does not have access to any sensitive private keys. It utilizes the Enclave for cryptographic functionality (although the Enclave can optionally be hosted by the Transaction Manager itself.)
</li>
       <li>The Transaction Manager is restful/stateless and can be load balanced easily.</li>
       <li><a href='https://github.com/jpmorganchase/quorum/wiki/Transaction-Processing'>https://github.com/jpmorganchase/quorum/wiki/Transaction-Processing</a></li>
     </ul>

  </td>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2  >
  </td>
</tr }>

<tr {>
  <td topic >The Enclave</td> 

  <td summa >
     <ul>
       <li>Distributed Ledger protocols typically leverage cryptographic techniques for transaction authenticity, participant authentication, and historical data preservation (i.e. through a chain of cryptographically hashed data.) In order to achieve a separation of concerns, as well as to provide performance improvements through parallelization of certain crypto-operations, much of the cryptographic work including symmetric key generation and data encryption/decryption is delegated to the Enclave.</li>
       <li>The Enclave works hand in hand with the Transaction Manager to strengthen privacy by managing the encryption/decryption in an isolated way. It holds private keys and is essentially a “virtual HSM” isolated from other components.</li>
     </ul>

  </td>
  <td col1 >
  </td>  
  <td col2  >
  </td>

</tr }>

<tr {>
  <td topic >topic</td> 
  <td summa >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>

  </td>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2  >
  </td>

</tr }>

<tr {>
  <td topic >Alastria</td> 
  <td summa >
     <ul>
       <li><a href='https://alastria.io/'>https://alastria.io/</a></li>
<!--
       <li> </li>
       <li> </li>
-->
     </ul>

  </td>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2  >
  </td>
  <td >
  </td>

</tr }>

<tr {>
  <td topic >Transaction Processing</td> 
  <td summa >
     <ul>
       <li>'Public Transactions' and 'Private Transactions' are a notional concept only and Quorum does not introduce new Transaction Types, but rather, the Ethereum Transaction Model has been extended to include an optional 'privateFor' parameter (the population of which results in a Transaction being treated as private by Quorum) and the Transaction Type has a new IsPrivate method to identify such Transactions. </li>
       <li>Public Transactions are those Transactions whose payload is visible to all participants of the same Quorum network.</li>
       <li>Private Transactions are those Transactions whose payload is only visible to the network participants whose public keys are specified in the privateFor parameter of the Transaction . privateFor can take multiple addresses in a comma separated list.<br/>
 Quorum Node sets the Transaction_Signature.V = 37 or 38 (as opposed to 27 or 28)<br/>
Private Transactions are NOT executed per standard Ethereum: prior to the sender's Quorum Node propagating the Transaction to the rest of the network, it replaces the original Transaction Payload with a hash of the encrypted Payload that it receives from Constellation. Participants that are party to the Transaction will be able to replace the hash with the actual payload via their Constellation instance, whilst those Participants that are not party will only see the hash.
       </li>
       <li {>
         <p>Example: Party A and Party B are party to Transaction AB, whilst Party C is not.</p>
         <ol>
         <li>
         <p>Party A sends a Transaction to their Quorum Node, specifying the Transaction payload and setting <code>privateFor</code> to be the public keys for Parties A and B</p>
         </li>
         <li>
         <p>Party A's Quorum Node passes the Transaction on to its paired Transaction Manager, requesting for it to store the Transaction payload</p>
         </li>
         <li>
         <p>Party A's Transaction Manager makes a call to its associated Enclave to validate the sender and encrypt the payload</p>
         </li>
         <li>
         <p>Party A's Enclave checks the private key for Party A and, once validated, performs the Transaction conversion. This entails:</p>
         <ol>
         <li>generating a symmetric key and a random Nonce</li>
         <li>encrypting the Transaction payload and Nonce with the symmetric key from i.</li>
         <li>calculating the SHA3-512 hash of the encrypted payload from ii.</li>
         <li>iterating through the list of Transaction recipients, in this case Parties A and B, and encrypting the symmetric key from i. with the recipient's public key (PGP encryption)</li>
         <li>returning the encrypted payload from step ii., the hash from step iii. and the encrypted keys (for each recipient) from step iv. to the Transaction Manager</li>
         </ol>
         </li>
         <li>
         <p>Party A's Transaction manager then stores the encrypted payload (encrypted with the symmetric key) and encrypted symmetric key using the hash as the index, and then securely transfers (via HTTPS) the hash, encrypted payload, and encrypted symmetric key that has been encrypted with Party B's public key to Party B's Transaction Manager.  Party B's Transaction Manager responds with an Ack/Nack response. Note that if Party A does not receive a response/receives a Nack from Party B then the Transaction will not be propagated to the network.  It is a prerequisite for the recipients to store the communicated payload.</p>
         </li>
         <li>
         <p>Once the data transmission to Party B's Transaction Manager has been successful, Party A's Transaction Manager returns the hash to the Quorum Node which then replaces the Transaction's original payload with that hash, and changes the transaction's <code>V</code> value to 37 or 38, which will indicate to other nodes that this hash represents a private transaction with an associated encrypted payload as opposed to a public transaction with nonsensical bytecode.</p>
         </li>
         <li>
         <p>The Transaction is then propagated to the rest of the network using the standard Ethereum P2P Protocol.</p>
         </li>
         <li>
         <p>A block containing Transaction AB is created and distributed to each Party on the network.</p>
         </li>
         <li>
         <p>In processing the block, all Parties will attempt to process the Transaction.  Each Quorum node will recognise a <code>V</code> value of 37 or 38, identifying the Transaction as one whose payload requires decrypting, and make a call to their local Transaction Manager to determine if they hold the Transaction (using the hash as the index to look up).</p>
         </li>
         <li>
         <p>Since Party C does not hold the Transaction, it will receive a <code>NotARecipient</code> message and will skip the Transaction - it will not update its Private StateDB.  Party A and B will look up the hash in their local Transaction Managers and identify that they do hold the Transaction. Each will then make a call to its Enclave, passing in the Encrypted Payload, Encrypted symmetric key and Signature.</p>
         </li>
         <li>
         <p>The Enclave validates the signature and then decrypts the symmetric key using the Party's private key that is held in The Enclave, decrypts the Transaction Payload using the now-revealed symmetric key and returns the decrypted payload to the Transaction Manager.</p>
         </li>
         <li>
         <p>The Transaction Managers for Parties A and B then send the decrypted payload to the EVM for contract code execution.  This execution will update the state in the Quorum Node's Private StateDB only. NOTE: once the code has been executed it is discarded so is never available for reading without going through the above process.</p>
         </li>
         </ol>
       </li }>
     </ul>

  </td>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2  >
  </td>
  <td >
  </td>

</tr }>

<tr {>
  <td topic >Network Permissioning</td> 
  <td summa >
    <ul>
      <li>feature controling which nodes can connect to a given node and also to which nodes the given node can dial out to.
</li>
      <li>--permissioned + data-dir/permissioned-nodes.json (whitelist of enodes that this node can connect to/from)
        <pre xsmall { >
[ 
  "enode://6a...f47@127.0.0.1:30300",
  "enode://remoteky1@ip1:port1",
  "enode://remoteky1@ip2:port2",
  ...
]
        </pre } >

<p>Any additions to 'permissioned-nodes.json' will be dynamically picked up by the server when subsequent incoming/outgoing requests are made.</p>
<p>Removing existing connected nodes from 'permissioned-nodes.json' will NOT immediately drop those existing connected nodes, but when current connections are dropped</p>
      </li>
      <li>NOTE: In the current implementation, every node has its own copy of the permissioned-nodes.json file. In this case, if different nodes have a different list of remote keys then each node may have a different list of permissioned nodes - which may have an adverse effect. In a future release, the permissioned nodes list will be moved from the permissioned-nodes.json file to a Smart Contract, thereby ensuring that all nodes will use one global on-chain list to verify network connections. Please see the Product Roadmap for further planned enhancements</li>
      <li><p TODO>Checkout <a href="https://github.com/jpmorganchase/quorum-examples/tree/master/examples/permissions">permissions example</a> on how to run nodes with permissioning enabled, or see the set up instructions below.</p></li>
    </ul>
  </td>
  <td col1 >
<!--
     <ul>
       <li> </li>
     </ul>
-->
  </td>  
  <td col2  >
  </td>
</tr }>

<tr {>
  <td topic TODO ><a href="https://github.com/jpmorganchase/quorum/blob/master/docs/api.md">Quorum API</a></td> 
  <td summa >
  </td>
  <td col1 >
  </td>  
  <td col2  >
  </td>
</tr }>

<tr {>
  <td topic >Alastria.io</td> 
  <td summa >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>

  </td>
  <td col1 >
     <ul>
       <li><a href='https://alastria.io/'>https://alastria.io/</a></li>
       <li><a href='https://github.com/marcossanlab/alastria-node'>https://github.com/marcossanlab/alastria-node</a></li>
     </ul>
  </td>  
  <td col2  >
  </td>
</tr }>
</table>
</body>
<!--
_____________________________________________________
Quorum:
  Brian Marchiony Head of CIB Marketing & Communications brian.j.marchiony@jpmorgan.com
  Amber Baldet Program Lead, Blockchain Center of Excellence amber.baldet@jpmorgan.com
  David Voell Engineering Lead, CIB Emerging Technologies david.l.voell@jpmorgan.com
_____________________________________________________
<p>See the <a href="https://github.com/jpmorganchase/quorum/blob/master/docs/api.md#privacy-apis">Quorum API</a> page for details on the <code>sendTransaction</code> call, which includes some modifications to the standard Ethereum call.</p>
    <li>
      <p>Developing Smart Contracts with Solidity</p>
      <p>Smart Contracts can be public or private to one or more network participants.  
      <p>Public  Transactions/Smart Contracts: Send an Ethereum Transaction to the network (TX.to         = "empty" creates a Contract)</p>
      <p>Private Transactions/Smart Contracts: Send an Ethereum Transaction to the network setting TX.privateFor = participant(s) public_key_list</p>
      <p>Example JSON message:
       <pre>
{ 
  "jsonrpc":"2.0",
  "method":"eth_sendTransaction",
  "params":[
    {
     "from": $FROM_AC,
     "to": $TO_AC, 
     "data": $CODEHASH,
     "privateFor": ["$PUBKEY1,PUBKEY2"]
    }
  ],
  "id":$ID
} 
       </pre>
      </p>
_____________________________________________________
Quorum Contract Design Considerations
- Private contracts cannot update public contracts.
(not all participants will be able to execute a private contract, and so if that contract can update a public contract, then each participant will end up with a different state for the public contract.
- Once a contract has been made public, it can't later be made private. You DO need to delete from the blockchain and create a new private contract
_____________________________________________________


      "code": "606060405236156100c45760e060020a60003504631290948581146100c9578063284d163c146100f957806342169e4814610130578063488099a6146101395780634fe437d514610154578063559c390c1461015d57806368bb8bb61461025d57806372a571fc146102c857806386c1ff681461036957806398ba676d146103a0578063a7771ee31461040b578063adfaa72e14610433578063cf5289851461044e578063de8fa43114610457578063e814d1c71461046d578063f4ab9adf14610494575b610002565b610548600435600160a060020a03331660009081526003602052604090205460ff16156100c45760018190555b50565b610548600435600160a060020a03331660009081526005602052604090205460ff16156100c4576004546001141561055e57610002565b61045b60025481565b61054a60043560056020526000908152604090205460ff1681565b61045b60015481565b61045b60043560006000600060006000600050600186038154811015610002579080526002027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5630192505b60018301548110156105d75760018301805484916000918490811015610002576000918252602080832090910154835282810193909352604091820181205485825292869052205410801561023257506001805490840180548591600091859081101561000257906000526020600020900160005054815260208101919091526040016000205410155b156102555760018301805482908110156100025760009182526020909120015491505b6001016101a8565b610548600435602435600160a060020a03331660009081526003602052604081205460ff16156100c4578054839010156105e45780548084038101808355908290829080158290116105df576002028160020283600052602060002091820191016105df919061066b565b610548600435600160a060020a03331660009081526005602052604090205460ff16156100c457600160a060020a0381166000908152604090205460ff1615156100f65760406000819020805460ff191660019081179091556004805490910190558051600160a060020a038316815290517f1a4ce6942f7aa91856332e618fc90159f13a340611a308f5d7327ba0707e56859181900360200190a16100f6565b610548600435600160a060020a03331660009081526003602052604090205460ff16156100c4576002546001141561071457610002565b61045b600435602435600060006000600050600185038154811015610002579080526002027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5630181509050806001016000508381548110156100025750825250602090200154919050565b61054a600435600160a060020a03811660009081526003602052604090205460ff165b919050565b61054a60043560036020526000908152604090205460ff1681565b61045b60045481565b6000545b60408051918252519081900360200190f35b61054a600435600160a060020a03811660009081526005602052604090205460ff1661042e565b610548600435600160a060020a03331660009081526003602052604090205460ff16156100c457600160a060020a03811660009081526003602052604090205460ff1615156100f65760406000818120600160a060020a0384169182905260036020908152815460ff1916600190811790925560028054909201909155825191825291517f0ad2eca75347acd5160276fe4b5dad46987e4ff4af9e574195e3e9bc15d7e0ff929181900390910190a16100f6565b005b604080519115158252519081900360200190f35b600160a060020a03811660009081526005602052604090205460ff16156100f65760406000819020805460ff19169055600480546000190190558051600160a060020a038316815290517f8cee3054364d6799f1c8962580ad61273d9d38ca1ff26516bd1ad23c099a60229181900360200190a16100f6565b509392505050565b505050505b60008054600019850190811015610002578382526002027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563016020819052604082205490925014156106b8578060010160005080548060010182818154818355818115116106a5578183600052602060002091820191016106a5919061068d565b50506002015b808211156106a157600181018054600080835591825260208220610665918101905b808211156106a1576000815560010161068d565b5090565b5050506000928352506020909120018290555b600082815260208281526040918290208054600101905581514381529081018490528151600160a060020a033316927f3d03ba7f4b5227cdb385f2610906e5bcee147171603ec40005b30915ad20e258928290030190a2505050565b600160a060020a03811660009081526003602052604090205460ff16156100f65760406000819020805460ff19169055600280546000190190558051600160a060020a038316815290517f183393fc5cffbfc7d03d623966b85f76b9430f42d3aada2ac3f3deabc78899e89181900360200190a16100f656",
-->
</html>
