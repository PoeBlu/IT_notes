<!DOCTYPE html>
<html>
   <meta charset="UTF-8">
   <title>javascript map (alpha)</title>
<head>
<script src="/IT_notes/map_v1.js"></script>
<link rel="stylesheet" type="text/css" href="/IT_notes/map_v1.css" />
</head>

<body>

<table>
<tr>
<td>
   <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date and Time</a>
<pre xxxsmall >
var date1 = new Date('December 17, 1995 03:24:00');
// Sun Dec 17 1995 03:24:00 GMT...
var date2 = new Date('1995-12-17T03:24:00');
// Sun Dec 17 1995 03:24:00 GMT...

console.log(date1 === date2);
// expected output: false;
console.log(date1 - date2);
// expected output: 0

var date3 = Date.now()

</pre>
</td>
<td>
  <a href="https://webpack.github.io/">WebPack</a> assets bundle
</td>
<td>
  <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">Service workers</a>
  (<a href="https://developers.google.com/web/fundamentals/primers/service-workers/">See also</a>)
  <ul xxxsmall zoom>
  <li>key functionality for Progressive Web Apps, allowing them to be ‘installed’, send relevant push notifications, and load quickly even on flaky networks</li>
  <li>Other commonly touted benefits include reducing bandwidth </li>
  <li>(<a href="https://dexecure.com/blog/beyond-offline-other-interesting-use-cases-for-service-workers-2/">REF: engineering blog post</a>)
<b cite>"""Service workers is probably the single most powerful 
  API added to the web platform recently. It gives you access to 
  a programmable proxy in JavaScript land. You can do anything 
  you want with each request made and the response received by 
  the browser - cancel the request, re-route it, modify the
  response(in some cases), cache it, etc."""</b>
  </li>
  <li>Some of the applications highlighted included client side load balancing, image optimization per device and bandwidth conditions, and even advanced image decoding</li>
  <li><a href="https://developers.google.com/web/tools/workbox/">Workbox library</a> allows to rapidly integrate a number of common
 Service Worker functionality such as precaching, runtime
 caching, request routing, background sync, and more.</li>
  <li>It is designed to be fully async; as a consequence, APIs such as synchronous
    XHR and localStorage can't be used inside a service worker.</li>
  </ul>
</td>
</tr>
</table>

<table>
<tr>
  <th header_delimiter>Debugging</th>
</tr>
<tr>
<td>
  Play with ajax requests (Firefox only?):<br/>
<pre xxxsmall zoom>
    Go to inspector → network tab → RightClick on request
    → choose Edit and Resend: Now you can change anything
    you want: header, params, ... and resend.
</pre>
  
  "debugger" keyword: pause in code just when console is open

  dump object to string: <code>JSON.stringify(window.document)</code>

  Print function calling function:<code>arguments.callee.caller.toString()</code>
</td>
<td>
  Console, Advanced tricks (Chrome only?):
<pre xxxsmall zoom>
Display object as tables in the console:
  console.table(animals);

Dump stack trace for a function:
  console.trace('trace car');

Quick find a function to debug:
  debug(car.functY)   Chrome only?
  (not the same that console.debug)

monitor(funct1); Every time the function is 
  called it will be logged with the values 
  that was passed in
</pre>
</td>

<td>
Black Block Script during debugging: 
<pre xxxsmall zoom>
CHROME:                                                      FIREFOX:
– Alt 1. inspector -> source -> Right click                  Inspector -> Debugger -> Mark scriptto black list ->
  the file to black list and choose black box script.        Click on the eye in the very bottom left corner.
– Alt 2. Open up settings view -> Click                      https://hacks.mozilla.org/2013/08/
  "manage framework black boxing" -> write a regexp in          new-features-of-firefox-developer-tools-episode-25/ 
  popup to blackbox, for example, the entire vendor folder.
  https://developer.chrome.com/devtools/docs/blackboxing
<pre>
</td>
</tr>
</table>

<table>
<tr>
<td>
DOM-INSPECTING: Quickly access elements in the console:
<pre xxxsmall zoom>
  $(‘css-selector’)  returns first match of CSS selector
  $$(‘css-selector’) returns all matches 
</pre>
</td>

<td>
SOURCE MAPPING:
<pre xxxsmall zoom>
http://blog.getsentry.com/2015/10/29/debuggable-javascript-with-source-maps.html
source maps are JavaScript’s version of debug symbols: Include with:
//# sourceMappingURL=/path/to/app.min.js.map
</pre>

modern JavaScript transpilers (TypeScript,...) has a command-line option for generating the associated source map. 

<pre xxxsmall zoom>
source map example:
{
  version : 3,  // version of source map spec (should be 3)
  file: "app.min.js", // generated filename associated to
  sourceRoot : "",    // all sources are relative to it (opt)
  sources: ["foo.js", "bar.js"], // URLs to original  files
  names: ["src", "maps", "are"], // variable/method names found in your code
  mappings: "AAgBC,SAAQ,CAAEA"   // base64Enc VLQ values source code mappings
}
</pre>
</td>

<td>
Selenium testing Automation
http://docs.seleniumhq.org/
</td>

<td>
Fiddler. HTTP proxy debugger. 
Allows to replace remote html/css/... with local one.
http://www.youtube.com/watch?v=TP_5JYatlNQ
</td>
</tr>
</table>

</body>
<!--
<span xbig>....</span>
<pre xxxsmall zoom { >
</pre }>
<pre xxxsmall zoom { >
</pre }>
_______________________
Standard Built-in objects:
http://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects
_________________
TODO: promises, async, await

With v3.2 we decided to support Promises (and for the sake of cross 
compatibility we also added a custom polyfill). We also introduced async 
functions which returns Promises like this one: 
http://doc.babylonjs.com/api/interfaces/babylon.isceneloaderpluginasync#loadassetcontainerasync

When a function returns a promise, modern browsers let us use the new await keyword. This new keyword (which will be familiar for C# developer) let you create asynchronous code like it would be synchronous:
1 // load the assets
2 var rootURL = 'https://models.babylonjs.com';
3 var filename = 'ufo.glb';
4 var container = await BABYLON.SceneLoader.LoadAssetContainerAsync(rootURl, filename, scene);
5 container.addAllToScene();
6  
7 scene.createDefaultEnvrionment();
    







_________________
Angular2
______________________
https://www.sitepoint.com/top-javascript-frameworks-libraries-tools-use/
__________________________
State-of-JS : https://stateofjs.com/
______________________
MDN: https://developer.mozilla.org/en-US/
__________________
https://reactjs.org/: A JS library for building user interfaces
___________________
https://www.infoq.com/news/2018/04/d3-releases-5-async?utm_source=infoqemail&utm_medium=dynamic_languages&utm_campaign=newsletter&utm_content=04172018
  D3 Announces 5.0 Release of SVG, Canvas, and HTML Library for Manipulating Data
  The D3 team has announced their 5.0 release, which embraces several newer asynchronous patterns such as promises and fetch, and updates key visualization APIs.
  
  D3.js is a JavaScript library for producing dynamic, interactive data visualizations in web browsers. As stated in the D3 5.0 release notes::
  
      With the adoption of promises, D3 now uses the Fetch API instead of XMLHttpRequest: the d3-request module has been replaced by d3-fetch. Fetch supports many powerful new features, such as streaming responses.
______________________
Tensorflow using JS + WebGL
https://js.tensorflow.org/
__________________
https://eloquentjavascript.net/
__________________
https://www.infoq.com/news/2018/05/js-foundation-announces-dojo-3
_____________________
https://blogs.windows.com/buildingapps/2018/05/01/announcing-babylon-js-v3-2/#yDoTuK4LbD0yxLd3.97
_____________________
https://www.infoq.com/news/2018/05/firefox-web-authentication-api
_____________
Coil: Building a New Busines Model for the Web:
https://medium.com/coil/coil-building-a-new-business-model-for-the-web-d33124358b6
____________________________________________________
https://hacks.mozilla.org/2018/10/webassemblys-post-mvp-future/?utm_source=dev-newsletter&utm_medium=email&utm_campaign=oct25-2018&utm_content=wasm
____________________________________________________
https://www.infoq.com/news/2018/11/ring-1-jetbrains
Ex: 
   https://jetbrains.github.io/ring-ui/master/user-agreement.html
_________________________________
https://www.infoq.com/articles/javascript-web-development-trends?utm_source=infoq&utm_medium=popular_widget&utm_campaign=popular_content_list&utm_content=
_________________________________
https://www.infoq.com/news/2018/12/react-suspense-redux-alternative

React Suspense Provides Redux Alternative
"If your primary use-case for Redux is using it as a client-side cache of server-side data, then Suspense could replace your redux usage. I’d consider it because you’d have simpler code and the ability to tame all those spinners."
______________________
https://jasmine.github.io/
Behavior-Driven JavaScript testing:
______________________
Selenium Browser testing
___________________
Monaco Editor: Blazeling fast web-editor (Used by VSCode, Che, ...)
https://code.visualstudio.com/docs/editor/editingevolved
___________________
https://www.infoq.com/articles/affordable-react-native-development
_______________________
how well does your browser support HTML5?
http://html5test.com/
_______________________
http://www.smashingmagazine.com/
Web blog muy bueno sobre diseño y HTML5
_______________________
https://webplatform.github.io/

Your Web, Documented.
The latest information on how to use the technology that runs the web — HTML, CSS, JavaScript and more.
WebPlatform.org is a work in progress. We could use your help in making it better. Join us.
_______________________
- JS Diagram library: http://www.jointjs.com/demos/umlcd
- http://threejs.org/
_______________________
https://www.rollapp.com/  GTK+ apps ported to Javascript (HTML5)
_______________________
SweetAlert: Replacement for Alert:
https://github.com/t4t5/sweetalert?utm_content=buffer6171b&utm_medium=social&utm_source=linkedin.com&utm_campaign=buffer
______________________
Emscripten:
"Emscripten is an LLVM to JavaScript 
compiler. It takes LLVM bitcode (which can be generated from C/C++ using
 Clang, or any other language that can be converted into LLVM bitcode) 
and compiles that into JavaScript, which can be run on the web (or 
anywhere else JavaScript can run)."
https://github.com/kripken/emscripten/wiki
http://stackoverflow.com/questions/14902514/installing-emscripten-on-ubuntu

http://asmjs.org/spec/latest/
______________________
javascript java virtual machine: https://github.com/ghewgill/lentil
______________________
http://zaach.github.io/jison/docs/
Jison takes a context-free grammar as input and outputs a JavaScript  file capable of parsing the language described by that grammar. You can  then use the generated script to parse inputs and accept, reject, or perform actions based on the input. If you’re familiar with Bison or Yacc, or other clones, you’re almost ready to roll.
___________________
https://trackingjs.com

The tracking.js library brings different computer vision algorithms and techniques into the 
browser environment. By using modern HTML5 specifications, we enable you to do real-time color
 tracking, face detection and much more — all that with a lightweight core (~7 KB) and intuitive
 interface.
____________________
https://flowtype.org
Flow uses type inference to find bugs even without type annotations. It precisely tracks the types of variables as they flow through your program.

Flow is designed for JavaScript programmers. It understands common JavaScript idioms and very dynamic code.

Flow incrementally rechecks your changes as you work, preserving the fast feedback cycle of developing plain JavaScript.
____________________
https://developer.mozilla.org/en-US/docs/HTML/Canvas/Drawing_Graphics_with_Canvas

Mozilla's canvas is extended with the drawWindow() method. This method draws a snapshot of the contents of a DOM window into the canvas. For example,
        
ctx.drawWindow(window, 0, 0, 100, 200, "rgb(255,255,255)");

would draw the contents of the current window, in the rectangle (0,0,100,200) in pixels relative to the top-left of the viewport, on a white background, into the canvas. By specifying "rgba(255,255,255,0)" as the color, the contents would be drawn with a transparent background (which would be slower).

It is usually a bad idea to use any background other than pure white "rgb(255,255,255)" or transparent, as this is what all browsers do, and many websites expect that transparent parts of their interface will be drawn on white background.
______________________
let allows you to declare variables that are limited in scope to the block, statement, or expression on which it is used. This is unlike the var keyword, which defines a variable globally, or locally to an entire function regardless of block scope.
______________________
https://developer.mozilla.org/en-US/Apps/Getting_Started

Web apps are apps built using standard Web technologies. They work in any modern Web browser, and can be developed using your favorite tools. Some characteristics that distinguish Web apps from websites: Apps are installed by a user, they are self-contained and don't always require the chrome of a browser window, and they can be built to run offline. Gmail, Twitter, and Etherpad are Web apps.

The Mozilla Open Web Apps project proposes some small additions to existing sites to turn them into apps that run in a rich, fun, and powerful computing environment. These apps run on desktop browsers and mobile devices, and are easier for a user to discover and launch than Web sites. They have access to a growing set of novel features, such as synchronizing across all of a user's devices.
__________________
https://github.com/jDataView

- jBinary High-level API for working with binary data. 

- jDataView. DataView. Extended. Anywhere. 
__________________
Immutable Code {{{

- Object.freeze(objInstance)
_____________________________
https://facebook.github.io/immutable-js/
"Arrays:
.push add an object to the current array
.concat returns a new array with the added object, doesn't modify the original array "
"const doesn't make an object inmutable. It just avoid re-referencing or adding atributes.
____________________
const a = [1,2,3]
a[0] = 3 ; // Mutable
"
}}}

REACT
{{{
  - Quick Start:
    https://medium.com/@tribou/react-and-flux-a-docker-development-workflow-469957f3bbf0
   -----------------------------------------------
   Webpack
<pre xxxsmall zoom>
"webpack: module ""loader""

(vs require.js vs browserify)

scripts.js:
require('../lib/module1.js') // sync run
____________________
"Install webpack (into the project & globally):
$ npm install -g webpack 
$ npm init
$ npm install --save webpack
____________________
Configure webpack project
$ vim webpack.config.js
var debug = process.env.NODE_ENV !== ""production"";
var webpack = require('webpack');

module.exports = {
  context: __dirname,
  devtool: debug ? 'inline-sourcemap' : null,
  entry: './js/scripts.js',
  output: {
    path: __dirname + '/js',
    filename: 'scripts.min.js'
  },
  plugins: debug ? [] : [
    new webpack.optimize.DedupePlugin(),
    new webpack.optimize.OccurenceOrderPlugin(),
    new webpack.optimize.UglifyJsPlugin({
        mangle: false, sourcemap: false 
    })
  ],
};
_____________________
Run webpack: (generates scripts.min.js)
$ NODE_ENV=development webpack 
$ NODE_ENV=production  webpack
</pre>
   -----------------------------------------------
    React Components
<pre xxxsmall zoom>
The "React" object isn't explicitly used here, but it's used by the transpiled JSX source. 
import React from 'react'; 
import { render } from 'react-dom';  
render( (<p>Hello, <strong>JSX</strong></p>), /*DOM ref */document.getElementById('app') ); 
_____________________________
import React, { Component } from 'react'; 
import { render } from 'react-dom'; 
 
class MyComponent extends Component /*=> we can use JSX*/{ 
  /*JS markup*/ render() { 
    return ( 
      <section> 
        <h1>My Component</h1> 
        <p>Content in my component...</p> 
      </section> 
    ); 
  } 
} 
 
// Let's render "<MyComponent>" tags
render(  <MyComponent />, document.getElementById('app') ); 
_____________________________
import React from 'react'; 
import { render } from 'react-dom'; 

const array = [ 'First', 'Second', 'Third', ]; 
 
const object = { first: 1, second: 2, third: 3, }; 
 
render(( 
  <section>
    <h1>Array</h1> 
    { // "key"@<li> is necessary for performance reasons, 
      // and React will warn us if it's missing. */ } 
    <ul>
      {array.map(i => ( <li key={i}>{i}</li> ))} 
    </ul> 
    <h1>Object</h1> 
    <ul> 
      {Object.keys(object).map(i => ( 
        <li key={i}> <strong>{i}: </strong>{object[i]} </li> 
      ))}
    </ul> 
  </section> 
  ), 
  document.getElementById('app') 
); 
_____________________________
functional component:

import React from 'react'; 
// pure (idempotent) function. It has no state, and will always 
// produce the same output, given the same input. 
const MyButton = ({ disabled, text }) => ( 
  <button disabled={disabled}>{text}</button> 
);
// some metadata -def.opts- are allowed in statel
MyButton.defaultProps = { text: 'My Button', disabled: false }; 
---- using it -----
import React from 'react'; 
import { render as renderJSX } from 'react-dom'; 

function render({ first, second }) { 
  renderJSX(( 
    <main> 
      <MyButton text= {first.text} disabled= {first.disabled} /> 
      <MyButton text={second.text} disabled={second.disabled} /> 
    </main>
    ), 
    document.getElementById('app') 
  ); 
} 
...
_____________________________
The basic premise of container components is simple: don't couple data fetching with the component that renders the data. The container is responsible for fetching the data and passing it to its child component. It contains the component responsible for rendering the data
_____________________________
_____________________________
</pre>
   -----------------------------------------------
   Component LifeCicle:
<pre xxxsmall zoom>
Initial Render  Lifecicle:
componentWillMount() -> render() -> componentDidMount()


Re-render Lifecicle:
componentWillReceiveProps() -> shouldComponentUpdate() -> 
  componentWillUpdate() -> render() -> componentWillReceiveProps()
</pre>
   -----------------------------------------------
   Props&States
<pre xxxsmall zoom>
Setting the state:

The initial state of the component isn't actually required, but if your component uses state, it should be set.

import React, { Component } from 'react'; 
 
export default class MyComponent extends Component { 
 
  state = { first: false, second: true, } // Init. state
 
  render() { 
    const { first, second } = this.state;  // <-- init with state
    return ( 
      <main> 
        <section> <button disabled={first} >First </button> </section> 
        <section> <button disabled={second}>Second</button> </section> 
      </main> 
    ); 
  } 
---- Usage: (will use init state --------------------
import { render } from 'react-dom'; 
import MyComponent from './MyComponent'; 
const comp1 = render( (<MyComponent />), document.getElementById('app') ); 
setTimeout(() => { comp1.setState({ first: true }); }, 3000); // <- Change state on timeout
_______________________
default properties:

import React, { Component } from 'react'; 
 
export default class MyButton extends Component { 
  // Notice the static (=> Non-instance, global to class)
  // Properties are inmutable.(vs state that changes all the time)
  static defaultProps = {  // <- used when the same property
    disabled: false,       // isn't passed to the JSX element
    text: 'My Button', 
  } 
 
  render() { 
    // defaultProps.disabled used since nothing is passed in the JSX
    const { disabled, text } = this.props; // <-- init with props.
    return ( 
      <button disabled={disabled}>{text}</button> 
    );
  }
}
----------------
Render without passing any property values. 
render( (<MyButton />), document.getElementById('app') ); 
_______________________
</pre>
   -----------------------------------------------
   Container Pattern
<pre xxxsmall zoom>
The basic premise of container components is simple: don't couple data fetching with the component that renders the data. The container is responsible for fetching the data and passing it to its child component. It contains the component responsible for rendering the data.

The idea is that you should be able to achieve some level of substitutability with this pattern. For example, a container could substitute its child component. Or, a child component could be used in a different container. Let's see the container pattern in action, starting with the container itself:
___________________________
import React, { Component } from 'react';

import MyList from './MyList';

function /*mock service*/ fetchData() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve([ 'First', 'Second', 'Third', ]);
    }, 2000);
  });
}

export default class MyContainer extends Component {
  // The container should always have an initial state,
  // (passed down to child components as properties)
  state = { items: [] }

  componentDidMount() /*call after comp. rendering */{ 
    fetchData() /*change state when data arrives */
      .then(items => this.setState({ items }));
  }

  // Renders the containee, passing state as properties, 
  // using the spread operator: "...".
  render() {
    return (
      <MyList {...this.state} />
    );
  }
}
___________________________
   Event Handling
<pre xxxsmall zoom>
The differentiating factor with event handling in React components is that it's declarative. Contrast this with something like jQuery, where you have to write imperative code that selects the relevant DOM elements and attaches event handler functions to them.

The advantage with the declarative approach of event handlers in JSX markup is that they're part of the UI structure. Not having to track down code that assigns event handlers is mentally liberating.
__________________________________________
import React, { Component } from 'react'; 
 
export default class MyButton extends Component { 
   onClick() { console.log('clicked'); } 

  render() { 
    return ( 
    <button onClick={this.onClick}> {this.props.children} </button> 
    ); 
  } 
} 
</pre>
___________________________
https://jvns.ca/blog/2018/11/01/tailwind--write-css-without-the-css/
___________________________
___________________________
___________________________
</pre>
   -----------------------------------------------
https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b

Those of you upgrading npm to its latest version, npm@5.2.0, might notice that it installs a new binary alongside the usual npm: npx.

Have you ever run into a situation where you want to try some CLI tool, but it’s annoying to have to install a global just to run it once? npx is great for that, too. Calling npx <command> when <command> isn’t already in your $PATH will automatically install a package with that name from the npm registry for you, and invoke it. When it’s done, the installed package won’t be anywhere in your globals, so you won’t have to worry about pollution in the long-term.
_____________________
https://www.infoq.com/news/2019/01/vue-3-preview
_____________________
HTTP/3: From root to tip
https://blog.cloudflare.com/http-3-from-root-to-tip/
________________________
https://single-spa.js.org
- Framework freedom:
  Use multiple frameworks in a single-page application, allowing you to split code
  by functionality and have Angular, React, Vue.js, etc. apps all living in harmony.

- Lazy load applications
  Stand up new apps next to the old one. You write the applications, single-spa makes
  them work together and won't load them until they're needed.

- Front-end microservices
  Combine many small apps, empowering teams to choose their technology. Stay nimble as
  your team, product, and tech stack grows and changes over time.
________________________
JS Decorators:
https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841
}}}
____________________________
REF: https://hack.aragon.org/docs/tutorial.html

""" Since we're importing Node.js modules in our front-end, we need a build script. For this, we opted to use parcel because it has zero config, but you can use your favorite bundler.

Let's install Parcel first:

npm i parcel-bundler -D

Next, let's add the build script to package.json:

{
  // ...
  "scripts": {
    "build": "parcel build app/script.js -d dist/ && parcel build app/index.html -d dist/ --public-url '.'"
  }
  // ...
}

You can now build the front-end of your app by running npm run build. 
"""
___________________________
https://swagger.io/specification/
OpenAPI Specification Version 3.0.2
Introduction

The OpenAPI Specification (OAS) defines a standard, language-agnostic interface to RESTful APIs which allows both humans and computers to discover and understand the capabilities of the service without access to source code, documentation, or through network traffic inspection. When properly defined, a consumer can understand and interact with the remote service with a minimal amount of implementation logic.

An OpenAPI definition can then be used by documentation generation tools to display the API, code generation tools to generate servers and clients in various programming languages, testing tools, and many other use cases.
___________________________
Javascript OOP {{{
    function Message (subject, recipient, content){
    · this.subject = subject;
    · this.recipient = recipient;
    · this.content = content;
    }
    Now that we have created a Message function we define its ".prototype" to complete the "Class":
    Message.prototype = { 
    · constructor: Message,   <--!!
    · 
    · sendMessage: function(){
    · · console.log('Sending message to ' + this.recipient);
    · },
    · 
    · show : function(){
    · · console.log('To:' + this.recipient + 'Subject: ' + this.subject + 'Message:' + this.content);
    · }
    };
    
    The complete definition of the Message object is now in one place, and the same methods are available to all
    instances of Message we create. Each message created can have its own instance properties that are passed through to
    the constructor.
     
    var workMessage = new Message('Work complete'', 'boss@mycorp.com', 'My work is done here');
    var socialMessage = new Message('Time to go out', 'friend@gmail.com', 'Finished work now.');
    workMessage.send();
    socialMessage.send();
    ________________________
    var F = function() {};// This is a function object.
    var p = F.prototype; // prototype object associated.
    var c = p.constructor; // function associated with pro.
    
    c === F 
    true: F.prototype.constructor==F for any function
    ________________________
    Method overide:
     
    Dog.prototype.talk = function(){
     console.log('The dog says');
     Animal.prototype.talk.call(this);
    }
    
    When calling the parent object method earlier, we needed to know that the parent was Animal.prototype. We can make the code more elegant by keeping a record of what the parent object is.
     
    Dog.prototype = new Animal();
    Dog.prototype.constructor = Dog;
    //define the parent property
    Dog.prototype.parent = Animal.prototype;
    Dog.prototype.talk = function(){
    console.log('The dog says'); //use the parent property to invoke the method
    this.parent.talk.call(this);
    }
    __________________
    Namespaces:
    var com = com || {};
    com.apress = com.apress || {};
    com.apress.chapterone = com.apress.chapterone || {};
    com.apress.chapterone.Message = function Message(...) {...}
     
    The usage of a Message object will now need to respect the namespace as follows:
     
    var myMessage = new com.apress.chapterone.Message(...);
}}}
Debug {{{________________________________________
Fiddler free web debugging proxy - Telerik
www.telerik.com/fiddler
Fiddler lets you see the “total page weight,” HTTP caching and compression at a glance,
________________________________________
Pause if dev.console open:
   debugger;
________________________________________
Show variable in JSON friendly form:
JSON.stringify(window.document) (Works on Firefox, Chrome, IExplorer?)
Result (String object):
{
· "location":{
· · "href":"http://stackoverflow.com/questions/3334341/jquery-javascript-json-to-string-variable-dump",                                                                                  
· · "origin":"http://stackoverflow.com",
· · "protocol":"http:",
· · "username":"",
· · "password":"",
· · "host":"stackoverflow.com",
· · "hostname":"stackoverflow.com",
· · "port":"",
· · "pathname":"/questions/3334341/jquery-javascript-json-to-string-variable-dump",
· · "search":"",
· · "hash":""
· },
· "jQuery17105674341916401555":2
}
________________________________________
Print the calling function in the called function:
var f1 = function(...){
· · console.warn("Called from:"+ arguments.callee.caller.toString());                                                                                                       
    ...
}
________________________________________
https://raygun.io/blog/2015/06/useful-javascript-debugging-tips-you-didnt-know/?utm_source=JSNewsletter25&utm_medium=SponsoredLink&utm_campaign=CooperPressSept15

most of the tips are for Chrome inspector even though my favourite tips are for Firefox. 

Quick find your DOM elements: Mark a dom element in the elements panel and use it in your console. Chrome inspector keeps the last 5 elements in its history, so the last marked element will be displayed with $0, second to last marked element $1 and so on.


Display object as tables in the console: console.table(animals);

Get the stack trace for a function:
        this.funcZ = function(){
                console.trace('trace car'); <-- show the stack trace up to this function
        }
}

Get the trace and your great list of all related functions. Every single one is clickable and you can now 
go back and fourth between these functions. It’s like a menu of functions just for you.


Quick find a function to debug:  debug(car.functY)  -Note: is not the same that console.debug-

Black box scripts that are NOT relevant: (ignore JQuery/... external libraries)
   https://raygun.io/blog/2015/05/javascript-debugging-with-black-box/
________________________________________
Find the important things in complex debugging: YOU can get style messages ussing CSS:
    console.todo = function( msg){
        console.log( '%c %s %s %s ', 'color: yellow; background-color: black;', '--', msg, '--');
    }
    console.important = function( msg){
        console.log( '%c%s %s %s', 'color: brown; font-weight: bold; text-decoration: underline;', '--', msg, '--');
    }
    console.todo("This is something that's need to be fixed");
    console.important('This is an important message');

In the console.log() you can for example set %s for a string, %i for integers and %c for custom style. You can probably find better ways to use this. If you use a single page framework you maybe want to have one style for view message and another for models, collections, controllers and so on. Maybe also name the shorter like wlog, clog and mlog. It’s time to use your own imagination.
Watch specific function calls and it’s arguments


Monitor, keep an eye to a given function: monitor(funct1);  - chrome console -
Every time the function is called it will be logged with the values that was passed in.

(I must say it would be good if the console could tell how many arguments were expected.
 In the above example func1 expect 3 arguments but only 2 is passed in. If that’s 
 not handled in the code it could lead to a possible bug)

Quickly access elements in the console:
    $(‘css-selector’) will return the first match of CSS selector. 
    $$(‘css-selector’) will return all of them. 
________________________________________
Postman is great but Firefox is faster:
   Many developers are using Postman to play around with ajax requests. Postman is great but I must 
 say it’s a bit annoying to open up a new browser window, write new request objects and then test them.
 Sometimes it’s easier to use your browser.  When you do so you no longer need to worry about 
 authentication cookies if you are sending to a password secure page. 
 This is how you would edit and resend requests in firefox:
   - Open up the inspector and go to the network tab. Right click on the desired request and 
     choose Edit and Resend. Now you can change anything you want:
     Change the header and edit your parameters and the simply hit resend.

    Speed up your markup with zen coding emmet
    Emmet and css the forgotten part
    Chrome command line api
    Chrome developer tools tips and tricks
    Firefox edit and resend a request
________________________________________
Black block script during debugging:

Chrome:
– Alt 1. Go to source in the inspector. Right click the file you want to black list and choose black box script.

– Alt 2. Click on the cog to open up the settings view. Click the button “manage framework black boxing”. 
  In the new pop up you can write a regexp as a path. This is great if you for example want to black box the 
  entire vendor folder.
  https://developer.chrome.com/devtools/docs/blackboxing

Firefox
- Go to the debugger tab in the inspector. Mark the script you want to black list. Click on the eye in 
  the very bottom left corner.
  https://hacks.mozilla.org/2013/08/new-features-of-firefox-developer-tools-episode-25/
________________________________________
https://github.com/jeanphix/Ghost.py Python scripted webkit engine
________________________________________
http://docs.seleniumhq.org/, http://docs.seleniumhq.org/projects/ide/, http://stackoverflow.com/search?q=selenium
"Selenium automates browsers. That's it! What you do with that  power is entirely up to you. Primarily, it is for automating web applications for testing purposes, but is certainly not limited to just that. Boring web-based administration tasks can (and should!) also be automated as well.
  Selenium has the support of some of the largest browser vendors who have taken (or are taking) steps to make Selenium a native part of their browser. It is also the core technology in countless other browser automation tools, APIs and frameworks."
________________________________________
http://google-opensource.blogspot.fr/2011/10/test-your-mobile-web-apps-with.html
Fiddler Debugger proxy: 
https://developer.mozilla.org/en-US/docs/Tools/Firefox_Tools_Adapter
https://developer.mozilla.org/en-US/docs/Tools/Performance
http://stackoverflow.com/questions/25174844/debugging-css-animation-performance-on-firefox
http://code.tutsplus.com/tutorials/headless-functional-testing-with-selenium-and-phantomjs--net-30545
________________________________________
http://blog.getsentry.com/2015/10/29/debuggable-javascript-with-source-maps.html

you can think of source maps as JavaScript’s version of debug symbols.

http://blog.getsentry.com/2015/10/29/debuggable-javascript-with-source-maps.html

you can think of source maps as JavaScript’s version of debug symbols.

Here’s an example source map:

{
    version : 3,                   // the version of the source map spec this file represents (should be “3”)
    file: "app.min.js",            // the generated filename this source map is associated with
    sourceRoot : "",               // the url root from which all sources are relative (optional)
    sources: ["foo.js", "bar.js"], // an array of URLs to the original source files
    names: ["src", "maps", "are"], // array of variable/method names found in your code
    mappings: "AAgBC,SAAQ,CAAEA"   // the actual source code mappings, represented as base64-encoded VLQ values
}

// app.min.js
$(function () {
    // your application ...
});
//# sourceMappingURL=/path/to/app.min.js.map

Good news: basically every modern JavaScript transpiler (TypeScript,...) has a command-line option for generating an associated source map. Let’s take a look at a few common ones.
}}}
_______________________________
Profiling{{{
"es5 vs es6 performance:
http://incaseofstairs.com/six-speed/
Up to 2500x decrease in some features!!!"
___________________________________
"YSlow

YSlow analyzes web pages and why they're slow based on Yahoo!'s rules for high performance web sites

Feature highlights

    Grades web page based on one of three predefined ruleset or a user-defined ruleset;
    It offers suggestions for improving the page's performance;
    Summarizes the page's components;
    Displays statistics about the page;
    Provides tools for performance analysis, including Smush.it™ and JSLint."
___________________________________

}}}
________________________
Strings:
Listing of String functions: The String object is immutable, which means that all of these methods do not alter the original String but instead return a new String.

.length: Returns the number of characters in the String.

charAt(index):  Returns the character at the specified index.

charCodeAt(index): Returns the Unicode of the character at the specified index.

fromCharCode(): Converts Unicode to characters.

concat(String1, ..., StringN)fromCharCode(): Joins Strings and returns a copy of the result.

indexOf(value): Returns the position of the first occurrence of the value in the String.(-1 if it does not exist)

lastIndexOf(value) Returns the position of the last occurrence of the value in the String. (-1 if it does not exist)

match(regExp): Finds a match for the regular expression within the String, returning the matches as an array.

replace(regExp, value): Finds a match for the regular expression within the String and replaces the resulting subString with a new value.

search(regExp): Finds a match for the regular expression within the String and returns the position of the match.

slice(startPos, endPos): Extracts the part of the String between the specified start and end positions.

split(token): Splits the String into an array of subStrings, using the specified token as the delimiter.

substr(startPos, numChars): Extracts a subString from the String, beginning at the start position through the specified number of characters.

subString(startPos, endPos): Extracts a subString from the String, between the specified start position and end position.

toLowerCase(): Returns the String in all lowercase characters.

toUpperCase(): Returns the String in all uppercase characters.

trim(): Returns the String without any of the whitespace at either end.

valueOf(): Returns the primitive value of the String.


ECMAScript 6.0:

Template strings support string interpolation. Example:
 let a="A"
 let t = `a: ${a}`
 console.log(t)
 "a: A"
______________________________
Arrays:
Arrays ListingMethod/Property.
length
Returns the number of items in the array and can also be used to set the size of the array.

indexOf()
Finds an element in the array and returns its position. Returns -1 if an element cannot be found.

join()
Joins all elements of the array to create a String.

lastIndexOf()
Finds the last occurrence of an element within the array and returns its position, -1 if the
element cannot be found.

pop()
Removes the last element in the array and returns the element.

push()
Adds the element to the end of the array and returns the new length of the array.

reverse()
Reverses the order of the elements in the array.

shift()
Removes the first element from the array and returns that element.

slice()
Selects part of the array and returns this as a new array.

sort()
Sorts the elements of the array. A sort function can be provided as a parameter to enforce a
particular sorting strategy.

splice()
Adds or removes elements from the array. The method accepts two lists of elements: the
elements to remove and the ones to be added.

toString()
Returns a String representation of the array.

unshift()
Adds elements to the beginning of the array and returns the new length.

valueOf()
Returns the primitive value of the array.
      __________________
"var l = [1,2,3,4]
1 in l  // returns true
""a"" in l // returns false
l.indexOf(1) // returns 0
l.pop(2 /*index*) // returns 3 (the popep element). Now l = [1,2,4]"
______________________________
Joint.JS: {{{
http://www.jointjs.com/tutorial
"- Diagrams consist of elements connected with links.
- A diagram in JointJS is represented by a model joint.dia.Graph. 
- This model then collects cells (a term representing both elements and links).
- A cell could therefore be either an element (joint.dia.Element or its inheritants) or a link (joint.dia.Link).
-  In JointJS (starting from version 0.6), you manipulate models, not views."
   ______________
- To be able to see something on the screen, the graph model must be attached to the joint.dia.Paper view.
   ______________
- Joint.JS  "Hello World!:
  <link rel="stylesheet" href="joint.css" />
  <script src="joint.js"></script>
          
          
  var graph = new joint.dia.Graph;
  
  var paper = new joint.dia.Paper({
      el: $('#myholder'),
      width: 600,
      height: 200,
      model: graph, <--- instance of graph
      gridSize: 1
  });
  var paperSmall = new joint.dia.Paper({
      el: $('#myholder-small'),
      width: 600,
      height: 100,
      model: graph, <--- instance of graph
      gridSize: 1
  });
  paperSmall.scale(.5);
  paperSmall.$el.css('pointer-events', 'none');
  
  var rect = new joint.shapes.basic.Rect({
      position: { x: 100, y: 30 },

- Event handling (based on the Backbone MVC)
  See all events triggered by any model in the graph:

  graph.on('all', function(eventName, cell) {
      console.log(arguments);
  });
         
  rect.on('change:position', function(element) {
      console.log(element.id, ':', element.get('position'));
  });
        
- Styling:
  rect.attr({
      rect: { fill: '#2C3E50', rx: 5, ry: 5, 'stroke-width': 2, stroke: 'black' },
      text: {
          text: 'my label', fill: '#3498DB',
          'font-size': 18, 'font-weight': 'bold', 'font-variant': 'small-caps', 'text-transform': 'capitalize'
      }
  });

- Setting vertices on a link is as simple as:
  link.set('vertices', [{ x: 300, y: 60 }, { x: 400, y: 60 }, { x: 400, y: 20 }])
  If you prefer the link to not be sharply broken at the vertices but instead interpolated by a curve, 
  set the smooth attribute:
  link.set('smooth', true)

- JointJS has built-in elements for basic shapes.
  These shapes are all in the joint.shapes.basic namespace and consist of 
  - joint.shapes.basic.Rect
  - joint.shapes.basic.Circle
  - joint.shapes.basic.Text
  - joint.shapes.basic.Image
___________________
WebApps: https://developer.mozilla.org/en-US/Apps
https://hacks.mozilla.org/2013/01/writing-web-apps-quickly-with-mortar/
___________________
http://raphaeljs.com/
_________________
https://hacks.mozilla.org/2014/03/better-integration-for-open-web-apps-on-android/
_____________________
WebRTC {{{
http://gingertech.net/2014/01/08/use-deck-js-as-a-remote-presentation-tool/
http://www.html5rocks.com/en/tutorials/getusermedia/intro/
}}}
___________________
"Stupidly simple jQuery plugin for Facebook login
http://garyrafferty.com/2013/08/20/Stupidly-Simple-Facebook-Login-JQuery-Plugin.html
<!DOCTYPE html>
<html>
  <head>
          <script type='text/javascript' src='jquery.js'></script>
          <script type='text/javascript' src='flogin.js'></script>
          <script type='text/javascript'>
            $(function() {
              $('#login').facebook_login({
                appId: 'YOUR-FACEBOOK-APP-ID',  # your facebook application id
                endpoint: '/sessions/new',      # where to POST the response to
                onSuccess: function(data) {},   # what to do on success, usually redirect
                onError: function(data) {}      # what to do on error
                permissions: 'read_stream'      # what permissions you need, default is just email
              });
            });
          </script>
  </head>
  <body>
    <a href='#' id='login'>Login with Facebook</a>
  </body>
</html>

See also W3C OpenSocial: 
http://www.w3.org/blog/2014/12/opensocial-foundation-moves-standards-work-to-w3c-social-web-activity/"
_____________________
Compressing JS:
We use uglify for this purpose like shown in the next script snipet:

rm -rf packaging/html # Avoid packaging old stuff by mistake 

if [ -d compiledJS ];  then
· · rm -rf compiledJS
· · if [ $? != 0 ]; then
· · · · echo "couldn't remove compiledJS"
· · · · exit 1
· · fi
fi
mkdir compiledJS
cp -R html compiledJS/
rm -rf compiledJS/html/html_tests

echo "debug: $BASEDIR/compiledJS/html/services"
cd $BASEDIR/compiledJS/html/services || exit 1

find ./ -name "*js" -type f | grep -v "media" | while read f ; do
· · uglifyjs --max-line-len 80 -o tmp.js ${f} 1>/dev/null
· · mv tmp.js ${f} 1>/dev/null
________________________
Async Prog:
TODO: Promises vs yield vs async/await vs callbacks

https://github.com/caolan/async
"Collections
· · each eachSeries eachLimit map mapSeries mapLimit filter filterSeries 
· · reject rejectSeries reduce reduceRight detect detectSeries sortBy some 
· · every concat concatSeries

Control Flow
· · series parallel parallelLimit whilst doWhilst until doUntil forever waterfall 
· · compose applyEach applyEachSeries queue cargo auto iterator apply nextTick 
· · times timesSeries

Utils
· · memoize unmemoize log dir noConflict  "
"async.map(['file1','file2','file3'], fs.stat, function(err, results){
· · // results is now an array of stats for each file
});

async.filter(['file1','file2','file3'], fs.exists, function(results){
· · // results now equals an array of the existing files
});

async.parallel([
· · function(){ ... },
· · function(){ ... }
], callback);

async.series([
· · function(){ ... },
· · function(){ ... }
])"
_________________________
WebWorkers:
"Src:· http://www.khronos.org/registry/typedarray/specs/latest/
· · · http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#concept-transferable-neutered

 In order to enable repeated transfer of large amounts of data between Web Workers [WEBWORKERS], ArrayBuffer implements the Transferable interface [HTML]. This section defines the behavior of ArrayBuffers and views under the structured cloning [HTML] and transfer algorithms. "
"https://serviceworke.rs/
The Service Worker Cookbook is a collection of working, practical examples of using service workers  in modern web apps.
__________________
CSS Notes:
https://docs.google.com/spreadsheets/d/1KVrkITlASLWQt1tMHKG2fnckxnB9c94HcSSbHAHgILo/edit#gid=0
"https://www.fontsquirrel.com/
Free fonts have met their match. We know how hard it is to find quality freeware that is licensed for commercial work. We've done the hard work, hand-selecting these typefaces and presenting them in an easy-to-use format. Here are some of our favorites:"
"http://christ-offer.blogspot.com.es/2011/05/html5css3-fonts-with-font-face.html

Embedding specific fonts on a web page, traditionally, has been accomplished using images.  Though IE 5.0+ allowed you to embed fonts on your web page, they needed to be in EOT (Embedded OpenType) format.  Other browsers supported TTF (TrueType) and OTF (OpenType) fonts.  IE9 now supports TTF, OTF and also WOFF (Web Open Font).  To accomplish the task of embedded real fonts into your web pages, use the CSS3 @font-face rule.

Where to get quality FREE fonts for use in web pages?  FontSquirrel is a great place with hundreds of free fonts, including kits that demonstrate how to embed and use them into a web page, plus a generator to create your own.  With the kit, you get the font in all the formats so that you can craft your web pages to support all the major "
"http://codepen.io/dehash/pen/Bfory
CSS3 3D image animation "
______________________
Binary Data
https://github.com/jDataView/jBinary/wiki/jBinary-Constructor
https://github.com/jDataView/jDataView
http://www.khronos.org/registry/typedarray/specs/latest/
  ______________________________________________________________________
  | "* BufferArray: Array of Bytes. Constructor BufferArray(byte length)
  | * TypedArray: Type view of the Buffer Array (Ui|i)nt(8|16|32)Array , Float(32|64)Array
  | · · Constructors:
  | · · · +- TypedArray(byte length) <-- Creates new BufferArray
  | · · · +- TypedArray(TypedArray (existing)array) <-- Creates new BufferArray duplicated of array
  | · · · +- TypedArray(sequence<type> array) <-- Creates new BufferArray from Javascript array
  | · · · +- TypedArray((existing)buffer[, byteOffset, length]) <-- Creates new view from existing buffer
  | · · Methods:
  | · · · +- void set( TypedArray array[, offset]) <- copy values from TypedArray
  | · · · +- void set( type[] array[, offset]) <- copy values from JS array
  | · · · +- TypedArray subarray(offsetFirstElement [, offsetLastElement=""last one""]) <- Creates a view, not a new buffer!!
  | 
  | * DataView: Low level endianess aware view of the Buffer (use for file/hardware/network access with a defined endianess defined ""outside"" our computer)
  | · · Contructor:
  | · · · +- DataView(ArrayBuffer buffer[, byteOffset, byteLength])
  | · · Methods (Read):
  | · · · +- get(Ui|I)nt(8|16|32)(byteOffset[, littleEndian])
  | · · · +- getFloat(32|64)(byteOffset[, littleEndian])
  | · · Methods (Write):
  | · · · +- set(Ui|I)nt(8|16|32)(byteOffset, value[, littleEndian] )
  | · · · +- setFloat(32|64)(byteOffset, value[, littleEndian] )
  | Note: Detecting endianness:
  | · var littleEndian = function() {
  | · · var buffer = new ArrayBuffer(2);
  | · · new DataView(buffer).setInt16(0, 256, true);
  | · · return new Int16Array(buffer)[0] === 256; /* true | false */
  | };
  ______________________________________________________________________
- Creating a simple array of 128 32-bit floats and filling with 8 consecutive floats:
    
  var f32s = new Float32Array(128);
  
  var groupLength = 8;    
  for (var i = 0; i < 128/groupLength; ++i) {
  · var sub_f32s = f32s.subarray(i, i+groupLength);
  · for (var j = 0; j < 8; ++j) {
  · ·  sub_f32s[j] = j;
  · }
  }

- Representing a point with 3xFloat32 coordinates values plus 4xUint8 color data values:

  var elementSize = 3 * Float32Array.BYTES_PER_ELEMENT + 4 * Uint8Array.BYTES_PER_ELEMENT;
  var buffer = new ArrayBuffer(4 * elementSize);
  var coords = new Float32Array(buffer, 0);
  var colors = new Uint8Array(buffer, 3 * Float32Array.BYTES_PER_ELEMENT);

- Slicing a large array into multiple regions:
  var buffer = new ArrayBuffer(1024);
  var floats = new Float32Array(buffer,   0 /* · · 0 offset*/, 128); (128*4 = 512 bytes)
  var shorts = new Uint16Array (buffer, 512 /*floats offset*/, 128); (12*2  = 256 bytes)
  var bytes = new Uint8Array · (buffer, shorts.byteOffset + shorts.byteLength);

- JBinary
  ref: https://github.com/jDataView/jBinary

  - Typical scenario:
  - Create your custom types using jBinary.Type (if needed).
  - Describe type set with JavaScript-compatible declarative syntax.
  - Create jBinary instance from jDataView (or any underlying type) and your type set.

- Constructors:
  +- new jBinary(jDataView data[, typeSet])
  +- new jBinary(javascript Byte array[, typeSet])
  Read Methods:
  +- read(type[, offset = binary.tell()]) <- If offset is provided internal pointer doesn't moves
  Pointer Methods:
  +- tell(): Return the current position. Ex: var currentPos = binary.tell();
  +- seek(position[, callback]): Go to position; if callback => execute it and reset position.
  +- skip(count[, callback]): Advance by count bytes; same callback behavior as seek
  Instance helpers
  +- slice(start, end[, forceCopy = false]): Returns sliced version of current binary with same type set. 
  +- as(typeSet[, modifyOriginal = false]): Casts instance to typeSet
  Loading Data
  +- jBinary.loadData(source, callback(error, data)) (static method)
  | · · source := Blob/File | HTTP(S)_URL | Data-URI (simple|base64-encoded) | Node.js (local file path|stream)
  
  var b1 = new jBinary([0x05, 0x03, 0x7F, 0x1E]); // with default typeset
  var b2 = new jBinary(new jDataView(data, 5, 10, true), { MetaName: ['string', 30]}); // typeset with custom type MetaName.
  var firstInt = b1.read('uint32'); · · · · · // uint32 value at offset 0 => Pointer moves 4 bytes
  var byteAtOffset100 = b2.read('uint8', 100);// uint8 value at custom position => Pointer unchanged(offset provided)
  var intAt200 = binary.seek(200, function () { return this.binary.read('int32') });
  var intAfter8 = binary.skip(8, function () { return this.binary.read('int32') });
  var binary = someExternalBinary.as(TAR); // casting
  fileInput.addEventListener('change', function () {
    jBinary.loadData(fileInput.files[0], function (error, data) {
      if (error) { return console.log(error); }
      ...
    });
  });
  
  jBinary.load('sample.tar', function (error, binary) {
    if (error) { return console.log(error); }
    var tar = binary.read('File'); // TAR format auto-detected (using jBinary.Repo)
  }); 

  - Typesets normally are object dictionaries 
    { typeName1 : type1 , <- types that can refer to each other but they may also contain special config 
      typeName2 : type2 , values that set some global options or modes for entire typeset. Options are:
      typeName3 : type3 ,
      typeName4 : type4 ,
      typeName5 : type5 ,
      typeName6 : type6 ,
       ...
    }
    - jBinary.all - reference to general type that represents entire data; required for enabling user to read/write entire file at once.
    - jBinary.mimeType - sets mime-type which should be used for saving data from this typeset (i.e., when calling toURI without argument).
    - jBinary.littleEndian - sets endianness for this format.
  
  - __________ Integers ______________
    · uint8 (byte) / int8 - one-byte integer.
    · uint16 / int16 - word.
    · uint32 / int32 - dword (double-word).
    · uint64 / int64 - qword - please see warning about precision loss in jDataView documentation.
    ___________ Floats  ______________
    · float32 (float) - classic 32-bit float used in languages like C.
    · float64 (double) - 64-bit float with double precision (double in C), default for JavaScript number representation.
    ___________ Strings ______________
    · char - one-byte binary character.
    · string(@length, encoding = 'binary') - string of given length in binary or 'utf8' encoding, reads/writes to the end of binary if length is not given.
    · string0(@length, encoding = 'binary') - null-terminated string stored in given number of bytes; treated as dynamic null-terminated string if length is not given.
    _________ Complex types __________
    · const(baseType, value, strict = false) - treats type as constant; if read value does not match expected and strict mode is enabled, calls strict(readValue) if it is function or simply throws TypeError if not.
    · array(baseType, @length) - array of given type and length, reads/writes to the end of binary if length is not given.
    · object(structure, proto = Object.prototype) - complex object of given structure (name => type), creates new context while processing inner properties; object may also contain functions instead of types for calculating some values during read/write for internal purposes.
    · extend(...object structures...) - extends one structure with others; merges data into one object when reading and passing entire object when writing.
    · enum(baseType, matches) - enumeration type with given key <=> value map (if value not found in the map, it's used "as-is").
    _________ Binary types __________
    · bitfield(length) - unsigned integer of given bit length (supports up to 32 bits, wraps around 2^32).
    · blob(@length) - byte array represented in most native type for current engine; reads/writes to the end of binary if length is not given.
    · binary(@length, typeSet = {}) - jBinary instance on part of original one with given length and optional custom typeset (useful for container formats); accepts also raw binary data when writing.
    _____ Control statements   ______
    · if(@condition, trueType, falseType) - conditional statement.
    · if_not(@condition, falseType, trueType) - same but inverted.
    · skip(@length) - simply skips given length on read/write.
    ______About @  __________________
    
    All the arguments marked with @(references) can be passed not only as direct values, but also as getter functions callback(context) or string property names inside current context chain.
  
  - Usage (in Browser): Include scripts for jDataView and jBinary like that:
    <script src="//jdataview.github.io/dist/jbinary.js"></script>
    <script>
    · var typeSet = { magic: ['array', 'uint8', 4] };
    · jBinary.load('file.bin', typeSet, function (err, binary) {   console.log(binary.read('magic')); } );
    </script>
  - HLS player using JBinary
    http://rreverser.github.io/mpegts/

  - Ex1: Audio Data Transport Stream (ADTS):
    (function (exports) {
    var ADTS = {
    /* :
     * Structure: AAAAAAAA AAAABCCD EEFFFFGH HHIJKLMM MMMMMMMM MMMOOOOO OOOOOOPP (QQQQQQQQ QQQQQQQQ)
     * · · · · · ·^bit (not byte)
     * Header consists of 7 or 9 bytes (without or with CRC).
     * Usage in MPEG-TS
     * - ADTS packet must be a content of PES packet. Pack AAC data inside ADTS frame, than pack inside PES packet, then mux by TS packetizer.
     * - ADTS frames goes one by one in TCP stream. Look for syncword, parse header and look for next syncword after. 
    */
        ADTSPacket: {
    /*bits Letter*/· _start· · · · · · : function () { return this.binary.tell() },
    /*12· · · ·A */· _syncWord· · · · ·: ['const', 12, 0xfff, true],· · · · · ·// syncword 0xFFF, all bits must be 1 
    /* 1· · · ·B */· version· · · · · ·: ['enum',· ·1, ['mpeg-4', 'mpeg-2']],· // MPEG Version: 0 for MPEG-4, 1 for MPEG-2 
    /* 2· · · ·C */· layer· · · · · · ·: ['const',· 2, 0],· · · · · · · · · · ·// Layer: always 0 
    /* 1· · · ·D */· isProtectionAbsent: 1,· · · · · · · · · · · · · · · · · · // protection absent, Warning, 1 => no CRC, 0 => CRC
    /* 2· · · ·E */· profileMinusOne· ·: 2,· · · · · · · · · · · · · · · · · · // Audio_Object_Types
    /* 4· · · ·F */· samplingFreq· · · : ['enum',· ·4, [96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350]],// MPEG4 Sampl.FrequencyIndex
    /* 1· · · ·G */· _privateStream· · : 1,· · · · · · · · · · · · · · · · · · // private stream, set to 0 when encoding, ignore when decoding
    /* 3· · · ·H */· channelConfig· · ·: 3,· · · · · · · · · · · · · · · · · · // MPEG4 Audio Channel_Configurations(if 0, configuration is sent via an inband PCE)
    /* 4· · IJKL */· _reserved· · · · ·: 4,· · · · · · · · · · · · · · · · · · // originality, home, copyrighted, copyright start bits
    /*13· · · ·M */· frameLength· · · ·: 13, · · · · · · · · · · · · · · · · · // frame length value. Must include 7 or 9 bytes of header length: = (ProtectionAbsent == 1 ? 7 : 9) + size(AACFrame) 
    /*11· · · ·O */· bufferFullness· · : 11, · · · · · · · · · · · · · · · · · // Buffer fullness
    /* 2· · · ·P */· aacFramesCountMinusOne: 2, · · · · · · · · · · · · · · · · // # of AAC frames(RDBs) in ADTS frame minus 1, for maximum compatibility always use 1 AAC frame per ADTS frame 
    /*16· · · ·Q */· data· · · · · · · : ['blob', function (context) { return context.frameLength - (this.binary.tell() - context._start) }] // CRC if protection absent is 0 
    · · }
    };
    
    if (typeof module !== 'undefined' && exports === module.exports) {
    · · module.exports = ADTS;
    } else {
    · · exports.ADTS = ADTS;
    }
    
    })(this);

   - Ex2: MPEG-TS Packet:
   MPEG-TS Packet:
   Name · · · · · · · · · · · · ·|#bits|Description
   -----------------------------------------------------------------------------------------------
   sync byte· · · · · · · · · · ·|8· · |Bit pattern from bit 7 to 0 as 0x47 or ASCII char 'G"
   Transport Error Indicator(TEI)|1· · |Set by demodulator if can't correct errors in the stream, to tell the demultiplexer that the packet has an uncorrectable error
   Payload Unit Start Indicator· |1· · |Boolean flag with a value of true meaning the start of PES data or PSI otherwise zero only.
   Transport Priority· · · · · · |1· · |Boolean flag with a value of true meaning the current packet has a higher priority than other packets with the same PID.
   PID · · · · · · · · · · · · · |13 · |Packet Identifier
   Scrambling control· · · · · · |2· · |'00' = Not scrambled. For DVB-CSA only->'01':Reserved,'10':Scrambled with even key,'11':Scrambled with odd key
   Adaptation field exist· · · · |1· · |Boolean flag
   Contains payload· · · · · · · |1· · |Boolean flag
   Continuity counter· · · · · · |4· · |Sequence number of payload packets.  Incremented only when a payload is present (i.e., payload value is true)· · · · · · · · · · · ·   
   Note: the total number of bits above is 32 and is called the transport stream 4-byte prefix or Transport Stream Header.
   Adaptation field· · · · · · · |0+ · |If adaption field exist value is true
   Payload Data· · · · · · · · · |0+ · |If contains payload value is true
   
   jBinary Packet Representation: {
   · · _startof: function () { return this.binary.tell() },
   
   · · _syncByte: ['const', 'uint8', 0x47, true],
   · · transportError: 1,
   · · payloadStart: 1,
   · · transportPriority: 1,
   · · pid: 13, 
   · · scramblingControl: 2,
   · · _hasAdaptationField: ['Flag', 'adaptationField'],
   · · _hasPayload: ['Flag', 'payload'],
   · · contCounter: 4,
   · · adaptationField: ['FlagDependent', '_hasAdaptationField', 'AdaptationField'],
   · · payload: ['FlagDependent', '_hasPayload', jBinary.Template({
   · · · · getBaseType: function (context) {
   · · · · · · var pid = context.pid, file = this.binary.getContext(1);
   · · · · · · if (pid < 2 || pid in file.pat) {
   
______________
Video & MediaSource:
https://dvcs.w3.org/hg/html-media/raw-file/tip/media-source/media-source.html
 During playback, the media element pulls segment data out of the source buffers, demultiplexes it if necessary, and enqueues it into track buffers so it will get decoded and displayed. buffered describes the time ranges that are covered by media segments in the source buffer.
Once a new SourceBuffer has been created, it expects an initialization segment to be appended first. This first segment indicates the number and type of streams contained in the media segments that follow. This allows the media element to configure the necessary decoders and output devices
A MediaSource object can be attached to a media element by assigning a MediaSource object URL to the media element src  attribute or the src attribute of a <source> inside a media  element. MediaSource object URLs are created by passing a MediaSource  object to window.URL.createObjectURL().
Initialization segments are an optimization. They allow a byte stream format to avoid duplication of information in Media Segments that is the same for many Media Segments. Byte stream format specifications need not specify Initialization Segment formats, however. They may instead  require that such information is duplicated in every Media Segment.


   | http://updates.html5rocks.com/2011/11/Stream-video-using-the-MediaSource-API
   | ***** SUMMARY: *****
   | video.src = video.webkitMediaSourceURL;
   | ...
   | video.webkitSourceAppend(new Uint8Array(...));
   | if (endOfStreamDetected) {
   |     video.webkitSourceEndOfStream(HTMLMediaElement.EOS_NO_ERROR);
   | }
   | 
   | ***** FULL CODE: *****
   | CONST chunkSize = Math.ceil(file.size / 5 /*number of Chunks */); // file is a video file
   | var video = document.querySelector('video');
   | · · video.src = video.webkitMediaSourceURL;
   | · · video.addEventListener('webkitsourceopen', function(e) {
   | · · · · for (var i = 0; i < NUM_CHUNKS; ++i) {
   | · · · · · · var startByte = chunkSize * i;
   | · · · · · · var chunk = file.slice(startByte, startByte + chunkSize); // get slice
   | · · · · · · var reader = new FileReader();
   | · · · · · · reader.onload = (function(idx) {
   | · · · · · · · · return function(e) {
   | · · · · · · · · · · video.webkitSourceAppend(new Uint8Array(e.target.result)); // appending chunk:
   | · · · · · · · · · · if (idx == NUM_CHUNKS - 1) {
   | · · · · · · · · · ·   video.webkitSourceEndOfStream(HTMLMediaElement.EOS_NO_ERROR);
   | · · · · · · · · · · // appending chunk:
   | · · · · · · · · · · }
   | · · · · · · · · };
   | · · · · · · })(i);
   | · · · · · · reader.readAsArrayBuffer(chunk);
   | · · · · }
   | · · }, false);
   | 
   | splits video into chunks, then "stream" to a <video> tag by appending each chunk to the element using the MediaSource API.                                                         
   | 
   | If you're interested in learning more about the API, see the specification.
   | 
   | Support: Currently, the MediaSource API is only available in Chrome Dev Channel 17+ with the --enable-media-source flag set or enabled via about:flags.
   | 
   | CONST chunkSize = Math.ceil(file.size / 5 /*number of Chunks */); // file is a video file

- http://www.w3.org/2010/05/video/mediaevents.html

- http://stackoverflow.com/questions/14317179/display-a-video-from-a-blob-javascript
  var reader = new FileReader();
  reader.readAsDataURL(vid);
  
  function display(vid){
      var video = document.getElementById("video");
      video.src = window.URL.createObjectURL(vid);
  
  }

- http://html5doctor.com/video-canvas-magic/
  http://html5doctor.com/demos/video-canvas-magic/demo2.html
  https://developer.mozilla.org/en-US/docs/Web/HTML/Manipulating_video_using_canvas

_______________________________
Real Time:
  - http://en.wikipedia.org/wiki/Operational_transformation
  - http://sharejs.org/
____________________
https://github.com/jpmorganchase/perspective
A streaming data visualization engine for Javascript, Perspective makes it simple to build real-time & user configurable analytics entirely in the browser.
______________________
https://css-tricks.com/learning-to-learn/
-->

</html>
