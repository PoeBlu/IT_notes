<!DOCTYPE html>
<html>
   <meta charset="UTF-8">
   <title>changeme title</title>
<!--
 Q:Note what the attribute { and } do:
 A:Those attributes are ignored by the browser but are helpful to fold/unfold text in some
   editors (Vim, Emacs,...)
-->
<!--
ROW TEMPLATE
<tr {>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col3 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
</tr }>
-->

<head>
<script>
var zoomDivDOM
function onZoomDivDoubleClick() { zoomDivDOM.innerHTML = ''; }
var zoomDivFW = true; // FW Full Width
var zoomDivFH = true; // FW Full Height 
var zoomDivTop = true; 
var zoomDivLft = true; 
function onTDDoubleClick()      { zoomDivDOM.innerHTML = 
     "('Esc' to close) Toggle "+
     "<span style='color:blue;' onClick=\"zoomDivFW  = !zoomDivFW ; zoomDivDOM.style.maxWidth  = zoomDivFW  ? '98%' : '30%'\">[Width]</span> " 
   + "<span style='color:blue;' onClick=\"zoomDivFH  = !zoomDivFH ; zoomDivDOM.style.maxHeight = zoomDivFH  ? '98%' : '30%'\">[Height]</span> " 
   + " Toggle " 
   + "<span style='color:blue;' onClick=\"zoomDivLft = !zoomDivLft; zoomDivDOM.style.left      = zoomDivLft ? '1%'  : '69%'\">[Horz]</span> " 
   + "<span style='color:blue;' onClick=\"zoomDivTop = !zoomDivTop; zoomDivDOM.style.top       = zoomDivTop ? '1%'  : '69%'\">[Vert]</span> " 
   + " <br/> " 
   + this.innerHTML; 
}

function removeToLeftMarginInPre() {
  // TODO:(0) Not working
  // nodeList = document.querySelectorAll('pre')
  // for (idx in nodeList) { 
  //   var node = nodeList[idx]
  //   var html = node.innerHTML
  //   var pattern = html.match(/^\s*[|]/)
  //   var regEx = new RegExp(pattern, "")
  //   console.log(html)
  //   node.innerHTML = html.replace(regEx,''))
  //    
  // }
}


function onPageLoaded() {
  zoomDivDOM = document.getElementById('zoomDiv')
  zoomDivDOM.addEventListener('dblclick',onZoomDivDoubleClick, false)
  document.addEventListener('keyup',function(e) { if (e.code !== "Escape") return; onZoomDivDoubleClick(); })
  // Change default a.target to blank. Ussually this is bad practice 
  // but this is the exception to the rule
  var nodeList = document.querySelectorAll('a')
  for (idx in nodeList) { 
      if (!nodeList[idx].href) { continue; }
      if (nodeList[idx].href && !nodeList[idx].href.startsWith("http")) continue;
      nodeList[idx].target='_blank'; 
  }
  nodeList = document.querySelectorAll('td')
  for (idx in nodeList) { 
     if (!!! nodeList[idx].addEventListener) continue;
     nodeList[idx].addEventListener('dblclick',onTDDoubleClick, false)
  }
  setTimeout(onZoomDivDoubleClick, 3000);
  removeToLeftMarginInPre();
}
</script>
<style>
*[mono]         { font-family: monospace; white-space: pre; }
pre { background-color:#EEEEEE; outline:1px dotted grey; margin: 0; }
*[cite]         { font-style: italic; }
*[TODO]         { color:red; font-weight: bold; }
*[TODO]:before  { content: "TODO:"; }
*[xxxsmall]{ font-size:0.1rem; }
img[xxxsmall]{ max-width:10rem; }
* xxsmall] { font-size:0.3rem; }
*[xsmall]  { font-size:0.7rem; }
*[small]   { font-size:0.9rem; }
*[xbig  ]  { font-size:1.5em; text-decoration: underline; }
ul { margin-left: 1.0em; padding-left: 0rem; }
#zoomDiv [xxxsmall] , #zoomDiv * [xxxsmall], #zoomDiv * * [xxxsmall], #zoomDiv * * * [xxxsmall]{ font-size:1em; } 
#zoomDiv img[xxxsmall] , #zoomDiv * img[xxxsmall], #zoomDiv * * img[xxxsmall], #zoomDiv * * * img[xxxsmall]{ max-width:100%; } 

/* REF: https://stackoverflow.com/questions/4910077/select-all-child-elements-recursively-in-css */
#zoomDiv * [small], #zoomDiv * [xsmall], #zoomDiv * [xxsmall] { font-size:1em; }
#zoomDiv * td { font-size:1em; }

body      { font-family:sans-serif; font-size:16px; padding: 0; margin: 0; }
#zoomDiv  { 
   position:fixed; top:1%; left:1%; width:auto; height:auto;
   max-height: 98%; max-width: 98%; overflow: auto;
   background-color:#FFFFFF; color:#000; border-radius: 0.5rem; border: 4px solid black; font-size: 2rem;
   box-shadow: 5px 5px 30px black;
   padding: 0.5rem;
}

a            { text-decoration:none; font-family:monospace; padding:0.1em;}
a[href^="#"]:before /* mark internal anchor */ {  content: ">"; }
a[href^="#"]:after  /* mark internal anchor */ {  content: "<"; }
a:visited { color:blue; }
td { 
   font-size: 0.8rem;
   vertical-align: top;
   outline: 1px solid grey; 
}
td[col1] ,th[col1] {background-color:#FFFFFF; min-width:34%; max-width:34%; font-size: 1rem;}
td[col2] ,th[col2] {background-color:#FAFAFA; min-width:33%; max-width:33%; }
td[col3] ,th[col3] {background-color:#FFFFFF; min-width:33%; max-width:33%; }
tr[header_delimit] > *{background-color:#000000; color:#FFFFFF; font-size:2em; color: white; }
tr[header_delimit] > td > a{color:inherit; text-decoration: underline; }
div[subtable1] { max-width: 95%; overflow: auto; padding:0; margin: 0;}

</style>
</head>
<body onLoad='onPageLoaded()'>
<div id='zoomDiv'>Hint: double-click on cell to zoom!!</div>

<table style='width:100%'{>
<tbody>
<tr {>
  <th colspan=3 header_delimit {   >topic1</th>
</tr }>
<tr {>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col3 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
</tr }>
<tr {>
  <th colspan=3 header_delimit } { >topic2</th>
</tr }>
<tr {>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col3 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
</tr }>
<tr {>
  <th colspan=3 header_delimit }   >topic3</th>
</tr }>
<tr {>
  <td col1 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col2 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
  <td col3 >
     <ul>
       <li> </li>
       <li> </li>
       <li> </li>
     </ul>
  </td>  
</tr }>
</body>
<!--

TODO:
Linux cache vs Linux buffers:

http://lwn.net/Articles/266153/
http://en.wikipedia.org/wiki/LTTng
http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html
monit
nagios
http://linux-mm.org/
http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html
_______________________________
"http://venturebeat.com/2015/03/12/mozilla-releases-open-source-memory-scanning-technology-for-servers-not-brains/

Mozilla just announced a new security technology that will let you look into your server’s memory processes and it’s called Masche.
As you’d expect the code is open-source.
The tool scans memory processes, while allowing for normal unabated 
operations. Masche acts as a complement to Mozilla’s existing digital 
forensics and threat response platform Mozilla InvestiGator or MIG. The platform views information from thousands of hosts simultaneously, but cannot see into memory processes.
Masche’s technology makes up for this handicap. Mozilla says that 
while Masche provides fast memory scans, it doesn’t offer advanced 
forensic features, like Volatility or Rekall (two advanced forensics frameworks)."
_______________________________
"https://code.google.com/p/volatility/

We moved to github.com/volatilityfoundation. For new releases also see Volatility Framework 2.4 Volatility
 supports memory dumps from all major 32- and 64-bit Windows versions 
and service packs including XP, 2003 Server, Vista, Server 2008, Server 
2008 R2, Seven, 8, 8.1, Server 2012, and 2012 R2. 
Whether your memory dump is in raw format, a Microsoft crash dump, 
hibernation file, or virtual machine snapshot, Volatility is able to 
work with it. We also now support Linux memory dumps in raw or LiME 
format and include 35+ plugins for analyzing 32- and 64-bit Linux 
kernels from 2.6.11 - 3.16 and distributions such as Debian, Ubuntu, 
OpenSuSE, Fedora, CentOS, and Mandrake. We support 38 versions of Mac 
OSX memory dumps from 10.5 to 10.9.4 Mavericks, both 32- and 64-bit. 
Android phones with ARM processors are also supported.  "
_______________________________
"http://www.rekall-forensic.com/
The Rekall Framework is a completely open collection of tools, 
implemented in Python under the GNU General Public License, for the 
extraction of digital artifacts from volatile memory (RAM) samples.
 The extraction techniques are performed completely independent of 
the system being investigated but offer visibilty into the runtime 
state of the system. The framework is intended to introduce people to
the techniques and complexities associated with extracting digital 
artifacts from volatile memory samples and provide a platform for
further work into this exciting area of research."
_______________________________
"How Facebook Monitors Hundreds of Thousands of Servers with Netconsole 

http://www.serverwatch.com/server-news/linuxcon-how-facebook-monitors-hundreds-of-thousands-of-servers-with-netconsole.html

""""""
He added that Facebook had a system in the past for monitoring
that used syslog-ng, but it was less than 60 percent reliable. 
In contrast, Owens stated netconsole is highly scalable and can 
handle enormous log volume with greater than 99.99 percent 
reliability.
"""""""
_______________________________
http://ls.pwd.io/2013/06/linux-monitoring-tools/
strace, netstat, perf, top,pidstat,mpstat,dstat, perf, vmstat,slabtop,dstat,free,top,...
_______________________________
https://www.tecmint.com/bcc-best-linux-performance-monitoring-tools/
BCC – Dynamic Tracing Tools for Linux Performance Monitoring, Networking and More
filetop, filelife, fileslower, vfscount, vfsstat, cachestat, dcstat, ...
_______________________________
Sysdig:
"Refhttp://xmodulo.com/monitor-troubleshoot-linux-server-sysdig.html:
How to monitor and troubleshoot a Linux server using sysdig

Last updated on October 13, 2014 Authored by Gabriel Cánepa 
What is the first thing that comes to mind when you need to track system calls made and received by a process? 
You'll probably think of strace, and you are right. What tool would you use to monitor raw network traffic from the command line? 
If you thought about tcpdump, you made an excellent choice again. And if you ever run into the need to having to keep track of open files
(in the Unix sense of the word: everything is a file), chances are you'll use lsof.

strace, tcpdump, and lsof are indeed great utilities that should be part of every sysadmin's toolset, and that is precisely the reason why you
will love sysdig, a powerful open source tool for system-level exploration and troubleshooting, introduced by its creators as ""strace + tcpdump + lsof + awesome 
sauce with a little Lua cherry on top."" Humor aside, one of the great features of sysdig resides in its ability not only to analyze the ""live"" state of a Linux system, 
but also to save the state in a dump file for offline inspection. What's more, you can customize sysdig's behavior or even enhance its capabilities by using built-in
 (or writing your own) small scripts called chisels. Individual chisels are used to analyze sysdig-captured event streams in various script-specific fashions.
"   
"In this tutorial we'll explore the installation and basic usage of sysdig to perform system monitoring and troubleshooting on Linux.

Installing Sysdig
For this tutorial, we will choose to use the automatic installation process described in the official website for the sake of simplicity, brevity, and
distribution agnosticity. In the automatic process, the installation script automatically detects the operating system and installs all the necessary dependencies.

Run the following command as root to install sysdig from the official apt/yum repository:
# curl -s https://s3.amazonaws.com/download.draios.com/stable/install-sysdig | bash

Once the installation is complete, we can invoke sysdig as follows to get a feel for it:
# sysdig
Our screen will be immediately filled with all that is going on in our system, not allowing us to do much more with that information. For that reason, we will run:

# sysdig -cl | less
to see a list of available chisels. The following categories are available by default, each of which is populated by multiple built-in chisels.
CPU Usage, Errors, I/O, Logs, Misc, Net, Performance, Security, System State, 
"   
"
To display information (including detailed command-line usage) on a particular chisel, run:
# sysdig -cl [chisel_name]
For example, we can check information about spy_port chisel under ""Net"" category by running:
# sysdig -i spy_port

Chisels can be combined with filters (which can be applied to both live data or a trace file) to obtain more useful output.

Filters follow a ""class.field"" structure. For example:

fd.cip: client IP address.
evt.dir: event direction can be either '>' for enter events or '<' for exit events.
The complete filter list can be displayed with:

# sysdig -l
In the rest of the tutorial, I will demonstrate several use cases of sysdig.

Sysdig Example: Troubleshooting Server Performance
Suppose your server is experiencing performance issues (e.g., unresponsiveness or significant delays in responding). You can use the bottlenecks chisel
to display a list of the 10 slowest systems calls at the moment.
 
"   
"Use the following command to check up on a live server in real time. The ""-c"" flag followed by a chisel name tells sysdig to run the specified chisel.

# sysdig -c bottlenecks
Alternatively, you can conduct a server performance analysis offline. In that case, you can save a complete sysdig trace to a file, and run the bottlenecks chisel against the trace as follows.

First, save a sysdig trace (use Ctrl+c to stop the collection):

# sysdig -w trace.scap
Once the trace is collected, you can check the slowest systems calls that were performed during the capture interval by running:

# sysdig -r trace.scap -c bottlenecks


You want to pay attention fo columns #2, #3, and #4, which indicate execution time, process name, and PID, respectively.

Sysdig Example: Monitoring Interactive User Activities
Suppose you as a sysadmin want to monitor interactive user activities in a system (e.g., what command a user typed from the command line, 
and what directories the user went to). That is when spy_user chisel comes in handy.

Let's first collect a sysdig trace with a couple of extra options.

# sysdig -s 4096 -z -w /mnt/sysdig/$(hostname).scap.gz
""-s 4096"" tells sysdig to capture up to 4096 bytes of each event.
""-z"" (used with ""-w"") enables compression for a trace file.
""-w <trace-file>"" saves sysdig traces to a specified file.
In the above, we customize the name of the compressed trace file on a per-host basis. Remember that you can interrupt the execution of sysdig at any 
moment by pressing Ctrl + c.

Once we've collected a reasonable amount of data, we can view interactive activities of every user in a system by running:

# sysdig -r /mnt/sysdig/debian.scap.gz -c spy_users


The first column in the above output indicates the PID of the process associated with a given user's activity.

What if you want to target a specific user, and monitor the user's activities only? You can filter the results of the spy_users chisel by username:

# sysdig -r /mnt/sysdig/debian.scap.gz -c spy_users ""user.name=xmodulo""


Sysdig Example: Monitoring File I/O
We can customize the output format of sysdig traces with ""-p"" flag, and indicate desired fields (e.g., user name, process name, and file or socket name) 
enclosed inside double quotes. In this example, we will create a trace file that will only contain writing events in home directories (which we can inspect later with ""sysdig -r writetrace.scap.gz"").

# sysdig -p ""%user.name %proc.name %fd.name"" ""evt.type=write and fd.name contains /home/"" -z -w writetrace.scap.gz


Sysdig Example: Monitoring Network I/O
As part of server troubleshooting, you may want to snoop on network traffic, which is typically done with tcpdump. With sysdig, traffic sniffing can be done as easily, but in more user friendly fashions.

For example, you can inspect data (in ASCII) that has been exchanged with a particular IP address, served by a particular process (e.g., apache2):

# sysdig -s 4096 -A -c echo_fds fd.cip=192.168.0.100 -r /mnt/sysdig/debian.scap.gz proc.name=apache2
If you want to monitor raw data transfer (in binary) instead, replace ""-A"" with ""-X"":

# sysdig -s 4096 -X -c echo_fds fd.cip=192.168.0.100 -r /mnt/sysdig/debian.scap.gz proc.name=apache2
For more information, examples, and case studies, you can check out the project website. Believe me, the possibilities are limitless. But don't just take my word for it.
 Install sysdig and start digging today!


 
 Subscribe to Xmodulo

Do you want to receive Linux FAQs, detailed tutorials and tips published at Xmodulo? Enter your email address below, and we will deliver our Linux posts straight to
your email box, for free. Delivery powered by Google Feedburner."   

_______________________________
MEMORY MONITORING: {{{
sudo slabtop

"Ref: http://xmodulo.com/visualize-memory-usage-linux.html
In the presence of virtual memory abstraction, accurately quantifying physical memory usage of a process is actually 
not straightforward.  
The virtual memory size of a process is not meaningful because it does not tell how much of it is actually allocated
 physical memory.
Resident set size (RSS), reported by top command, is one 
popular metric which captures what portion of a process' reported memory is residing in RAM.  However, aggregating RSS
 of existing processes can easily overestimate the overall 
physical memory usage of the Linux system because the same 
physical memory page can be shared by different processes.  

Proportional set size (PSS) is a more accurate measurement of
 effective memory usage of Linux processes since PSS properly
 discounts the memory page shared by more than one process.
  Unique set size (USS) of a process is a subset of the 
process' PSS, which is not shared by any other processes.

The command-line tool smem can generate a variety of reports 
related to memory PSS/USS usage by pulling information from 
/proc.  It comes with built-in graphical chart generation 
capabilities
Install:
Debian/Ubuntu:
  $ sudo apt-get install smem
Mint:
  $ sudo apt-get install smem python-matplotlib python-tk
Fedora or CentOS/RHEL:
Step 1: enable EPEL repository first.
Step 2: $ sudo yum install smem python-matplotlib

Check Memory Usage with Smem
When you run smem as a unprivileged user, it will report physical memory usage of every process launched by the current user, in an increasing order of PSS.

If you want to check the overall system memory usage for all users, run smem as the root:
$ sudo smem

To view per-user memory usage:
$ sudo smem -u
"
}}}
_______________________________
NETWORK: {{{
    ____________________________
"Nethogs is a command line utility for linux that displays the network
 bandwidth used by each application or process in realtime. It is useful
 in situations when a certain process uses up too much of the bandwidth 
and needs to be caught

$ sudo nethogs
...
  PID USER     PROGRAM                      DEV        SENT      RECEIVED       
2367  enlighten/opt/google/chrome/chrome    eth0       3.341      20.948 KB/sec
2196  enlighten/usr/lib/firefox-7.0.1/fire  eth0       0.871       0.422 KB/sec
3723  enlighten/usr/bin/pidgin              eth0       0.028       0.098 KB/sec
2206  enlighten/usr/bin/skype               eth0       0.033       0.025 KB/sec
2380  enlighten/usr/lib/chromium-browser/c  eth0       0.000       0.000 KB/sec
0     root     unknown TCP                             0.000       0.000 KB/sec

  TOTAL                                                4.274      21.493 KB/sec"

    ____________________________
sudo netstat -ntlp
    ____________________________
nettop

    ____________________________
http://www.securitybydefault.com/2013/11/1010-herramientas-de-monitorizacion-de.html

    ____________________________
"Para consola:

* vnstat: se ejecuta como servicio o mediante tareas programadas, su ventaja es  que es útil para controlar en tiempo real el tráfico enviado y recibido y también hacerlo en un periodo de tiempo. Una de mis favoritas, está  paquetizada en casi todas las distribuciones.
iptraf: al igual que la anterior es un clásico, se caracteriza por su interfaz ncurses desde el que se configura interactivamente. Ampliamente  distribuida.
iftop: últimamente es una de la que más veo usar. Trata de ser el 'top' de cpu para las conexiones de red. Su interfaz es sencilla y se incluye en la  gran mayoría de distribuciones. Otra indispensable.
bwm-ng: es más simple que otras herramientas similares, su gran ventaja es que además de funcionar en modo interactivo, permite exportar la salida a un archivo CSV o html

ibmonitor: en concepto es parecida a bwm-ng o vnstat, muestra el tráfico total por interfaz, tanto el enviado como el recibido.

nload: herramienta interactiva que muestra el consumo acumulado y además dibuja en modo texto gráficas (en ASCII claro).

dstat: tiene formato similar a los conocidos iostat, vmstat con soporte de colores. Está incluida en múltiples distribuciones.

tcptrack: aplicación que muestra el consumo por conexión. No está tan extendida como otras. herramientas similares.

ipband: también orientado a obtener datos por conexión. 

speedometer: más gráficas en ASCII para ver el tráfico en grandes números, permite obtener estadísticas de velocidad en la red."
    ____________________________
"
Con interfaz web:

vnstati: es la herramienta de vnstat para generar archivos png que poder visualizar vía web. Muy muy sencilla. Como pega, no es dinámica.
collectd: realmente versátil y potente. Permite medir muchos otros parámetros  además de la red con distintos plugins. Funciona en modo 
cliente/servidor, por lo que puede monitorizar redes de sistemas.
munin: conceptualmente similar al anterior, permite, mediante plugins,  monitorizar varios servicios. También funciona en modo cliente/servidor.
cacti: archiconocido y muy usado para adquirir datos vía snmp de sistemas remotos. Permite diseñar y crear las gráficas usando su propio interfaz 
web.

bandwidthd: pese a que cumple sus funciones de pintar gráficas de consumo de ancho de banda, no permite configurar demasiadas opciones.

ntopng: versión ""ng"" del clásico ntop. Personalmente no me gusta la forma de presentar los datos.

mrtg: otro clásico, permite pintar gráficas obteniendo datos vía snmp. 

orca: pinta gráficas estilo mrtg. Al igual que mrtg, son versiones no adaptadas a estos tiempos modernos.

bwbar: genera una única barra muy sencilla, incluso más que vnstati, con los datos de entrada y salida.

Graphite: realmente no es para dibujar gráficas de tráfico, pero permite dibujar gráficas de cualquier tipo de una forma realmente sencilla y bonita. Requiere que se le pasen los datos mediante algún script, por ejemplo, usando alguna herramienta de las vistas en la sección anterior. 
"
}}}
_______________________________
Kernel: {{{
Debugging the kernel with ftrace:1  http://lwn.net/Articles/365835/
Debugging the kernel with ftrace:2  http://lwn.net/Articles/366796/
Debugging the kernel with ftrace:3  http://lwn.net/Articles/370423/
Linux input ecosystem   http://joeshaw.org/2010/10/01/681
    ____________________________
Linux input ecosystem
ptrace
uditd, dTrace, OProfile or SystemTap, audtctl
Systemtap/Dtrace/LTTng/perf Comparison:  http://sourceware.org/systemtap/wiki/SystemtapDtraceComparison


"http://people.redhat.com/srostedt/kernelshark/HTML/:
KernelShark is a front end reader of trace-cmd(1) output. ""trace-cmd record"" and ""trace-cmd extract"" create
a trace.dat (trace-cmd.dat(5)) file. kernelshark can read this file and produce a graph and list view of its data."
lttng
nmon: "advanced htop": allows, amongst others, to visualize kernel context switches and interruptions per second
    ____________________________

https://sourceware.org/systemtap/
"http://phoronix.com/scan.php?page=news_item&px=SystemTap-3.0-Released
https://sourceware.org/ml/systemtap/2016-q1/msg00179.html

SystemTap, a DTrace-like means of dynamically profiling Linux with a scripting language and tool, is out with version 3.0.

SystemTap 3.0 was announced on Sunday and it ships with experimental monitor and interactive modes, optimized associative arrays, function overloading, new scripting samples, scripting language changes, and more.

 If you are unfamiliar with SystemTap for Linux profiling, visit the SourceWare.org project site."
}}}
_______________________________
Process Monitoring: {{{
"Linux Commands For Shared Library Management & Debugging Problems:
http://www.cyberciti.biz/tips/linux-shared-library-management.html"
top / htop / iotop strace / lsof
    ____________________________
nmon: "advanced htop": allows, amongst others, to visualize kernel context switches and interruptions per second
    ____________________________
/proc/"PID"/*
    ____________________________
"apt-cache show psmisc
Package: psmisc
Priority: optional
Section: admin
Installed-Size: 688
Maintainer: Craig Small <csmall@debian.org>
Architecture: amd64
Version: 22.11-1
Replaces: procps (<< 1:1.2)
Depends: libc6 (>= 2.7), libncurses5 (>= 5.7+20100313)
Filename: pool/main/p/psmisc/psmisc_22.11-1_amd64.deb
Size: 118940
MD5sum: c617da8fd211a70f1ac932075706f85e
SHA1: 2b982d51635ab7f4ed08ae31757ca8eb248646cb
SHA256: 74664bf4045d473c1448d9f319ad356eac60a4ab5b0a68ab78efc197323b3073
Description: utilities that use the proc file system
 This package contains miscellaneous utilities that use the proc FS:
 .
  - fuser: identifies processes that are using files or sockets.
  - killall: kills processes by name (e.g. ""killall -HUP named"").
  - peekfd: shows the data traveling over a file descriptor.
  - pstree: shows currently running processes as a tree.
  - prtstat: print the contents of /proc/<pid>/stat
Homepage: http://psmisc.sf.net/
    ____________________________
"Ex:
~# netstat -ntlp | grep ssh
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1031/sshd       
~# peekfd -8 -c 1031"
    ____________________________
"Dump process memory in real time:
http://www.forensicswiki.org/wiki/Tools%3aMemory_Imaging#Linux"
}}}
_______________________________
File System: {{{
"inotifywatch(1) inotifywait(1) dnotify(1)"
df -kh,  du -sch *
lsof 
    ____________________________
"http://www.linuxask.com/questions/how-to-check-if-a-file-is-locked-in-linux:
Suppose a file test.txt is being locked by a program, e.g. using the flock system call, how can we know if this file is really being locked?

# lsof test.txt
COMMAND  PID USER   FD   TYPE DEVICE SIZE   NODE NAME
perl    5654 john 3uW  REG    8,1    1 983057 test.txt

The W means the file is currently held by an exclusive lock. You can find more information in the link below:

http://linux.die.net/man/2/flock"
    ____________________________
"SRC: http://unix.stackexchange.com/questions/22120/how-to-trace-file-locks-per-directory
How to trace file locks (per directory):
Make sure that the auditd daemon is started, then use auditctl to configure what you want to log. For ordinary filesystem accesses, you would do:

auditctl -w /path/to/directory
auditctl -a exit,always -S fnctl -S open -S flock -F dir=/path/to/directory

The -S option can be used to restrict the logging to specific syscalls. The logs appear in /var/log/audit/audit.log on Debian, and probably on Fedora as well."   
    ____________________________
}}}
_______________________________
Hardware Monitoring: {{{
    PowerTOP
    udev
    lsusb
    lspci
    hwinfo: http://www.binarytides.com/linux-hwinfo-command/
}}}
_______________________________
http://collectl.sourceforge.net/
Collect:Unlike most monitoring tools that either focus on a small set of statistics, format their output in only one way, run either interatively or as a daemon but not both, collectl tries to do it all. You can choose to monitor any of a broad set of subsystems which currently include buddyinfo, cpu, disk, inodes, infiniband, lustre, memory, network, nfs, processes, quadrics, slabs, sockets and tcp.     
_______________________________

       ______<br/>  An Introduction to Linux Audio (ALSA, Jack, ...)    http://linuxdevcenter.com/pub/a/linux/2007/08/02/an-introduction-to-linux-audio.html
       ______<br/>  A tour of the Linux Graphics Stack  http://cworth.org/talks/lca_2009/html/lca-2009-001.html
       ______<br/>   IPv6 in Linux  http://linuxdevices.com/articles/AT7843301253.html
       ______<br/>  10 things you should know about IPv6    http://blogs.techrepublic.com.com/10things/?p=1893
       ______<br/>  RedHat documentation    http://docs.redhat.com/docs/en-US/index.html
       ______<br/>      Magic SysRq key - Wikipedia http://en.wikipedia.org/wiki/Magic_SysRq_key
       ______<br/>  Linux Tips: Limiting the CPU usage of applications on Linux http://blog.dipinkrishna.info/2009/07/limiting-cpu-usage-of-applications-on.html 
       ______<br/>  Advanced Routing&Traff.Control (Francés)    http://www.linux-france.org/prj/inetdoc/guides/Advanced-routing-Howto/
       ______<br/>  TODO ConsoleKit 0.4.1 Documentation http://www.freedesktop.org/software/ConsoleKit/doc/ConsoleKit.html
       ______<br/>  KernelNewbies.org/ un proyecto social ideado para ayudad a la gente a aprender cómo funciona el núcleo de un sistema operativo. http://www.kernelnewbies.org/
       ______<br/>  Correo muy intesante "quejandose" de las diferentes soluciones de sistemas de fichero Cluster   http://zgp.org/linux-tists/20040101205016.E5998@shaitan.lightconsulting.com.html"
       ______<br/>  Soluciones Open Source de Computer Associated (CA)  http://www.ca.com/technologies/subsolution.jsp?id=4900
       ______<br/>  Circle ID: Revista de informática y telecomunicaciones muy interesante  http://www.circleid.com/
       ______<br/>  JAM is a software build tool that makes building simple things simple and building complicated things manageable.   http://www.perforce.com/jam/jam.html
       ______<br/>  The open sharedroot project provides abilities to boot multiple linux systems with the same root filesystem providing a single system filesystem based cluster. (NFS, GFS,...)  http://fedoraproject.org/wiki/Features/Opensharedroot
       ______<br/>  Using TCT To Recover Lost Data On Linux Or Unix http://linuxshellaccount.blogspot.com/2009/05/using-tct-to-recover-lost-data-on-linux.html
       ______<br/>  Introducing TimeChart   http://blog.fenrus.org/?p=5
       ______<br/>  Unetbotin: Arranque de Linux desde USB  http://www.howtoforge.com/creating-usb-startup-disks-from-various-linux-distributions-with-unetbootin
       ______<br/>      
       ______<br/>      
       ______<br/>      
       ______<br/>  Linux Containers (Estándar a partir del kernel 2.6.29)  http://lxc.sourceforge.net/
       ______<br/>  Tuxradar: Hacking Linux http://www.tuxradar.com/content/how-linux-kernel-works
       ______<br/>  Tuxradar: Hacking Linux http://www.tuxradar.com/content/newbies-guide-hacking-linux-kernel
       ______<br/>      
       ______<br/>  Video demostraci'on de GNU Parallels    http://www.youtube.com/watch?v=OpaiGYxkSuQ&feature=player_embedded
       ______<br/>  "Extreme Cloud Administration Toolkit.     Provision Operating Systems on physical or virtual machines: Centos5.X ... Fedora[9-11],Windows Server 2008, Cloning or scripted installation methods
    Remotely Manage Sytems: Integrated Lights-out management, remote console, and distributed shell support
    Quickly set up and control Management node services: DNS, HTTP, DHCP, TFTP
"   http://xcat.sf.net
       ______<br/>  Installing spice (VNC server para máquinas KVM) en Ubuntu Server 11.04 LTE  http://bderzhavets.wordpress.com/2011/05/23/set-up-spice-gtk-0-6-on-ubuntu-11-04-natty-narwhal/
       ______<br/>  (una especie de VLC optimizado para KVM) Spice aims to provide a complete open source solution for interaction with virtualized desktops    http://fedoraproject.org/wiki/Features/Spice
       ______<br/>  Real Time Linux kernel branch   https://rt.wiki.kernel.org/index.php/Main_Page
       ______<br/>      
________________
       ______<br/>  An Introduction to Linux Audio (ALSA, Jack, ...)    http://linuxdevcenter.com/pub/a/linux/2007/08/02/an-introduction-to-linux-audio.html
       ______<br/>  A tour of the Linux Graphics Stack  http://cworth.org/talks/lca_2009/html/lca-2009-001.html
       ______<br/>   IPv6 in Linux  http://linuxdevices.com/articles/AT7843301253.html
       ______<br/>  10 things you should know about IPv6    http://blogs.techrepublic.com.com/10things/?p=1893
       ______<br/>  RedHat documentation    http://docs.redhat.com/docs/en-US/index.html
       ______<br/>      Magic SysRq key - Wikipedia http://en.wikipedia.org/wiki/Magic_SysRq_key
       ______<br/>  Linux Tips: Limiting the CPU usage of applications on Linux http://blog.dipinkrishna.info/2009/07/limiting-cpu-usage-of-applications-on.html 
       ______<br/>  Advanced Routing&Traff.Control (Francés)    http://www.linux-france.org/prj/inetdoc/guides/Advanced-routing-Howto/
       ______<br/>  TODO ConsoleKit 0.4.1 Documentation http://www.freedesktop.org/software/ConsoleKit/doc/ConsoleKit.html
       ______<br/>  KernelNewbies.org/ un proyecto social ideado para ayudad a la gente a aprender cómo funciona el núcleo de un sistema operativo. http://www.kernelnewbies.org/
       ______<br/>  Correo muy intesante "quejandose" de las diferentes soluciones de sistemas de fichero Cluster   http://zgp.org/linux-tists/20040101205016.E5998@shaitan.lightconsulting.com.html"
       ______<br/>  Soluciones Open Source de Computer Associated (CA)  http://www.ca.com/technologies/subsolution.jsp?id=4900
       ______<br/>  Circle ID: Revista de informática y telecomunicaciones muy interesante  http://www.circleid.com/
       ______<br/>  JAM is a software build tool that makes building simple things simple and building complicated things manageable.   http://www.perforce.com/jam/jam.html
       ______<br/>  The open sharedroot project provides abilities to boot multiple linux systems with the same root filesystem providing a single system filesystem based cluster. (NFS, GFS,...)  http://fedoraproject.org/wiki/Features/Opensharedroot
       ______<br/>  Using TCT To Recover Lost Data On Linux Or Unix http://linuxshellaccount.blogspot.com/2009/05/using-tct-to-recover-lost-data-on-linux.html
       ______<br/>  Introducing TimeChart   http://blog.fenrus.org/?p=5
       ______<br/>  Unetbotin: Arranque de Linux desde USB  http://www.howtoforge.com/creating-usb-startup-disks-from-various-linux-distributions-with-unetbootin
       ______<br/>      
       ______<br/>      
       ______<br/>      
       ______<br/>  Linux Containers (Estándar a partir del kernel 2.6.29)  http://lxc.sourceforge.net/
       ______<br/>  Tuxradar: Hacking Linux http://www.tuxradar.com/content/how-linux-kernel-works
       ______<br/>  Tuxradar: Hacking Linux http://www.tuxradar.com/content/newbies-guide-hacking-linux-kernel
       ______<br/>      
       ______<br/>  Video demostraci'on de GNU Parallels    http://www.youtube.com/watch?v=OpaiGYxkSuQ&feature=player_embedded
       ______<br/>  "Extreme Cloud Administration Toolkit.     Provision Operating Systems on physical or virtual machines: Centos5.X ... Fedora[9-11],Windows Server 2008, Cloning or scripted installation methods
    Remotely Manage Sytems: Integrated Lights-out management, remote console, and distributed shell support
    Quickly set up and control Management node services: DNS, HTTP, DHCP, TFTP
"   http://xcat.sf.net
       ______<br/>  Installing spice (VNC server para máquinas KVM) en Ubuntu Server 11.04 LTE  http://bderzhavets.wordpress.com/2011/05/23/set-up-spice-gtk-0-6-on-ubuntu-11-04-natty-narwhal/
       ______<br/>  (una especie de VLC optimizado para KVM) Spice aims to provide a complete open source solution for interaction with virtualized desktops    http://fedoraproject.org/wiki/Features/Spice
       ______<br/>  Real Time Linux kernel branch   https://rt.wiki.kernel.org/index.php/Main_Page
       ______<br/>      


_______________________________
Monitoring uninterruptible system calls.
KISS script to list any process that could have trouble beeing blocked by an uninterruptible system call.

# while true; do ps -e fo stat,cmd | grep ^D && echo "-------"; sleep 0.1 ; done

D<    \_ [scsi_eh_0]
D         \_ hald-addon-storage: polling /dev/sr0 (every 2 sec)
-------
D         \_ hald-addon-storage: polling /dev/sr0 (every 2 sec)
-------
D<    \_ [md0_raid1]
D<    \_ [kjournald]
-------
D<    \_ [md0_raid1]
-------
D<    \_ [md0_raid1]
-------
D<    \_ [md0_raid1]
The output in this case is normal [md0_raid1],kjournald and syslogd are making frequent disk writes.
-->

</html>
