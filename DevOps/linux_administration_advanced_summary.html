<!DOCTYPE html>
<html>
   <meta charset="UTF-8">
   <title>Linux Advanced Administration Summary <!-- ignore --></title>
<head>
<script src="/IT_notes/map_v1.js"></script>
<link rel="stylesheet" type="text/css" href="/IT_notes/map_v1.css" />
</head>

<body>

<table style='width:100%'{>
<tbody>

<tr {>
<td>
  <span xbig>Hidding processes to other Users: <a href="http://www.cyberciti.biz/faq/linux-hide-processes-from-other-users/">REF</a></span> <br/>
  The hidepid option in the procfs defines how much info about processes we want to be available for non-owners. 
  <ul>
  <li>hidepid=0 : (default old behavior), anybody may read all world-readable /proc/PID/* files</li>
  <li>hidepid=1 : users may not access any /proc/ / directories, but their own.  
    Sensitive files like cmdline, sched*, status 
    are now protected against other users
  </li>
  <li>hidepid=2 : equals to hidepid=1 plus :
    - /proc/PID/  will be invisible to other users.
      It complicates intruder's task of gathering info
      about running processes, whether some daemon
      runs with elevated privileges, whether another user
      runs some sensitive program, whether other users run any 
      program at all, etc.Linux kernel protection: </li>
  </ul>
    Ex:
<pre {>
# mount -o remount,rw,hidepid=2 /proc
Alternatively edit /etc/fstab:
proc  /proc  proc defaults,hidepid=2  0   0
</pre }>
</td>  
<td>
block layer "blk-mq" introduces block multi-queue support,
intended to meet the high IOPS requirements of SSDs:
<ul>
  <li>kernel 3.13+</li>
  <li><span cite>Jens Axobe
      """the classic request_fn based driver doesn't work well enough,""" 
         (for big IOPS) </span></li>
  <li><span cite>Axboe The design is centered around per-cpu queues for queueing IO,  
      which then funnel down into x number of hardware submission queues,"" </span>
  </li>
  <li>
  </li>
</ul>
</td>  
<td>  
  KVM/Qemu:
</td>  
<td>  
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_MRG/1.3/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-General_System_Tuning-Interrupt_and_Process_Binding.html">Attach Interrupt to CPU/Real-time processes</a>
</td>  
</tr }>
</body>
<!--
TODO
NON-CLASSIFIED: {{{
}}}

________________________________
https://en.wikipedia.org/wiki/Ksplice:
See also:
 - kexec, a method for loading a whole new kernel from a running system
 - kGraft, kpatch and KernelCare, other Linux kernel live patching technologies developed by SUSE, Red Hat and CloudLinux, respectively



https://www.2daygeek.com/how-to-install-upgrade-unbreakable-enterprise-kernel-uek-in-oracle-linux/#
https://www.2daygeek.com/how-to-updateinstall-oracle-kernel-critical-security-updates-without-rebooting/
https://serverfault.com/questions/78406/is-ksplice-production-ready/
________________________________
automatic non-uniform memory access (NUMA) balancing, Linux 3.13+
________________
https://unix.stackexchange.com/questions/98808/how-to-assign-an-additional-ip-hostname-to-a-chrooted-environment
________________
_ Linux Containers (Estándar a partir del kernel 2.6.29)  http://lxc.sourceforge.net/
_______________
 Installing spice (VNC server para máquinas KVM) en Ubuntu Server 11.04 LTE  http://bderzhavets.wordpress.com/2011/05/23/set-up-spice-gtk-0-6-on-ubuntu-11-04-natty-narwhal/
 (una especie de VLC optimizado para KVM) Spice aims to provide a complete open source solution for interaction with virtualized desktops    http://fedoraproject.org/wiki/Features/Spice
_______________
The open sharedroot project provides abilities to boot multiple linux systems with the same root filesystem providing a single system filesystem based cluster. (NFS, GFS,...)  http://fedoraproject.org/wiki/Features/Opensharedroot
_________________
<br/>  Linux Containers (Estándar a partir del kernel 2.6.29)  http://lxc.sourceforge.net/
_________________
www.linuxfromscratch.org/blfs/view/svn/postlfs/cryptsetup.html
_________________
https://www.freeipa.org/page/Main_Page
  - Manage Linux users and client hosts in your realm from one central location with CLI, Web UI or RPC access. Enable Single Sign On authentication for all your systems, services and applications.
  - Policy
  - 
  - Define Kerberos authentication and authorization policies for your identities. Control services like DNS, SUDO, SELinux or autofs.
  - Trusts
  - 
  - Create mutual trust with other Identity Management systems like Microsoft Active Directory.

-->
___________________
man readelf
___________________
man 5 namespace.conf
________________
https://www.redhat.com/en/topics/virtualization/what-is-KVM
provides a detailed explanation about how KVM and Qemu works
________________
https://alpss.at/ : Alpine Linux Persistence and Storage Summit
  08:30 - 09:00   Zoned Namespaces for NVMe   Matias Bjørling and Christoph Hellwig
  09:00 - 09:30   Blk-mq and zoned devices    Bart van Assche and Damien Le Moal
  10:00 - 10:30   Copy Offload    Bart van Assche
  10:30 - 11:00   PCI 2P2 and computational storage   Stephen Bates
  11:00 - 11:30   Exciting new stuff in RDMA  Idan Burstein
  12:00 - 12:30   SPI-attached Flash Memory   Boris Brezillon and Miquel Raynal
  12:30 - 13:00   Advanced power-cut testing the MTD stack    Richard Weinberger
  14:00 - 19:00   BOFs and hallway track (or hiking on your own)  
  08:30 - 09:00   Qemu as a Memory emulation platform Damien Le Moal
  09:00 - 09:30   UMAP    Adam Manzanares
  10:00 - 10:30   Inode namespacing – COW inodes  Jeff Mahoney
  10:30 - 11:00   Adding filesystem authentication to UBIFS   David Gstir
  11:00 - 11:30   Reverse Engineering APFS (Apple File System)    Johannes Thumshirn
  12:00 - 13:00   Blk-mq: timeout handling, power management, etc Bart van Assche
________________________
https://blogs.gnome.org/hughsie/2008/11/06/devicekit-power-latency-control/
DeviceKit-power latency control
Use cases:
    I want my IM application to request 0.5s latency for messages
    I’m running an OpenGL simulation and want maximum performance, even on battery
    I’m running an SQL server for a credit card company, and want the server to request low latency CPU and network as any delay costs money
    I’m an admin, and want to change the power consumption vs. latency from cron scripts so it uses high latency during the night for maximum power saving, and low latency during business hours.
    I want high throughput when copying files, but want low throughput for downloading updates in the background.
    I want my power manager to set all latencies to lowest when on AC power
    I don’t want my users messing with latency settings
    I’m and admin and I want to be able to override all latency settings on my machines

________________________
https://upower.freedesktop.org/

 UPower is an abstraction for enumerating power devices, listening to device events and querying history and statistics. Any application or service on the system can access the org.freedesktop.UPower service via the system message bus. Some operations (such as suspending the system) are restricted using PolicyKit.

UPower was once called DeviceKit-power. UPower aims to make a large chunk of HAL redundant, as HAL is officially deprecated.

UPower is also useful to control the latency of different operations on your computer, which enables you to save significant amounts of power. Nothing much uses this interface yet, but this is a classic chicken and egg scenario, and I think it's important to encourage the egg to lay a chicken. Please report any problems to the Freedesktop bugzilla or send a mail to the DeviceKit mailing list for discussion. 
_______________________________
https://www.collabora.com/news-and-blog/blog/2018/11/21/gaining-ebpf-vision-tracing-linux-filesystem-disk-requests/ 
_______________________________
http://www.eweek.com/security/aws-boosts-serverless-security-with-firecracker-microvms
________________________________
A dream come true: Android is finally using DRM/KMS
Gustavo Padovan avatar

Posted on 17/12/2018 by Gustavo Padovan

Share this post: [Share on Twitter] [Share on LinkedIn] [Share on Facebook] [Share on Google +] [Share on Email]

In the beginning, Android did not really have a graphics stack. It was just pushing frames directly to framebuffers and hoping for the best, the approach worked for quite some time.

However, over time, the usecases became more and more complex and a new graphics stack was necessary. About 6 years ago the Android team conducted a lot of research and quickly realized that the mainline kernel was far from being up to the job - it was lacking Atomic screen updates, explicit syncronization and support for low power hardware, among other things. Google was left with no other choice than to design their own graphic stack: Atomic Display Framework (ADF).

That was another piece of the mainline linux kernel that Android forked, but it allowed Google to overcome the challenges brought on by the new needs of industry and customers.

The mainline graphics stack had a number of problems and the API was outdated and not keeping pace with the industry. The mainline graphics community knew it was time for an upgrade!
Atomic Modeset

The addition of Kernel Modeset (KMS) around 2008 was a revolution in itself, but as time passed, new needs arose and a new API was required. That lead to a situation where we had different syscalls to update every single buffer on the screen. In order to update the whole screen, for example, one would need to make a couple of syscalls and hope they would all be applied to the display hardware before the next vsync signal, otherwise some user noticeable flickering could happen. Unfortunately, such flickering was happening quite often.

Led by Daniel Vetter (Intel), the introduction of Atomic Modesetting on top of KMS in 2015 added a new system call that would contain *all* the information to update all buffers in all screens in a single commit transaction, fixing the issues that plagued the previous API. The Direct Rendering Manager (DRM) Core went through a comprehensive refactoring process, and drivers became much easier to write, allowing for all the major drivers to be eventually ported to atomic modesetting, and many more added as well, some of them with Collabora's help.
Explicit Synchronization

Atomic Modeset was a giant step but there was still one piece missing: Explicit Synchronization. To avoid screen stalls and lack of knowledge about the current state of a buffer, ADF from Android introduced sync fences to keep track of buffer state and signal when GPU or Display is done filling or scanning it out.

In work led by Collabora, the Android Sync Framework was refactored and added to the mainline kernel, and Explicit Synchronization support was coded into DRM Atomic Modeset. The kernel now had all the pieces to support Android running on DRM/KMS.
A new reality

The dream finally came true in 2018 with the release of the Google Pixel 3, the first Android phone running with the mainline graphics stack. A feat that was deemed impossible 10 years ago is now a reality thanks to a lot of hard work from the entire community.

Google ChromeOS also benefited from Explicit Synchronization to improve support for Android apps on Chromebooks, and now the Chrome Browser also has Explicit Synchronization support.

As more vendors start to push their code to mainline, and follow upstream closely, we expect others Android phone vendors to switch to DRM/KMS too in the future. The upstream stack is now quite modern and robust, and the benefits of using it is becoming clear!
_______________________________
  <a href="https://linux.die.net/man/8/debugfs">man 8 debugfs</a>
<pre xxxsmall zoom>
  ext2/ext3/ext4 file system debugger:

- It can be used to examine and change
  the state of an ext2, ext3, or ext4 file system.
</pre>
_______________________________
https://www.oreilly.com/library/view/red-hat-certified/9780134723990/
Module 3: Performing Advanced System Administration Tasks

Lesson 16: Managing the Kernel
16.1 Understanding the Modular Structure of the Kernel 
16.2 Working with Kernel Modules 
16.3 Modifying Kernel Module Behavior Through modprobe 
16.4 Tuning Kernel Behavior Through /proc 
16.5 Using sysctl 
16.6 Updating the Kernel 

Lesson 17: Managing and Understanding the Boot Procedure
17.1 Boot Procedure Generic Overview 
17.2 Understanding Grub2 
17.3 Modifying Grub2 Parameters 
17.4 Understanding Systemd 
17.5 Managing Services in a Systemd Environment 
17.6 Understanding Systemd Targets 
17.7 Switching between Systemd Targets 
17.8 Managing File System Mounts in a Systemd Environment 

Lesson 18: Applying Essential Troubleshooting Skills
    18.1 Changing the Root Password 
    18.2 Troubleshooting File System Issues 
    18.3 Troubleshooting Networking Issues 
    18.4 Troubleshooting Performance Issues 
    18.5 Troubleshooting RPM Dependency Issues 
    18.6 Troubleshooting Memory Shortage 
    18.7 Consulting Red Hat Websites for Troubleshooting Tips 

Module 4: Managing Network Services

Lesson 19: Managing HTTP Services
    19.1 Understanding Apache Configuration 
    19.2 Creating a Basic Web Site 

Lesson 20: Connecting to an LDAP Server
    20.1 Understanding LDAP, Kerberos, IPA, and AD 
    20.2 Setting up LDAP Authentication 
    20.3 Connecting to an IPA Server 
    20.4 Joining an AD Domain 
    20.5 Modifying sssd Configuration 

Lesson 21: Accessing Remote File Systems and Automount
    21.1 Accessing an NFS Server 
    21.2 Accessing a Samba Server 
    21.3 Understanding Automount 
    21.4 Configuring Automount 
    21.5 Configuring Automount for Home Directories 

Lesson 22: Managing SELinux
    Learning objectives 
    22.1 Understanding the Need for SELinux 
    22.2 Understanding SELinux Modes 
    22.3 Understanding SELinux Labels and Booleans 
    22.4 Using File System Context Labels 
    22.5 Finding the Right Context Labels 
    22.6 Understanding semanage fcontext and chcon Differences 
    22.7 Using Booleans 
    22.8 Analyzing SELinux Log Files 
    22.9 Configuring SELinux for Apache 

Lesson 23: Configuring a Firewall
    23.1 Understanding Firewall Configuration 
    23.2 Understanding Firewalld Components 
    23.3 Configuring a Firewall with firewall-cmd 
    23.4 Using firewall-config 

Lesson 24: Using Kickstart
    24.1 Understanding Kickstart Usage 
    24.2 Creating a Kickstart File 
    24.3 Using the Kickstart File for Automatic Installations 
    24.4 Using Kickstart Files in Fully Automated Datacenters 

Lesson 25: Configuring Time Services
    25.1 Understanding Time on Linux 
    25.2 Setting Time with timedatectl 

Lesson 26: Managing SSH
    Learning objectives 
    26.1 Changing Common SSH Server Options 
    26.2 Accessing the SSH Server Through the Firewall 

_________________________
https://linux.die.net/man/1/latrace

latrace - LD_AUDIT 2.4+ libc frontend
Synopsis

latrace [-ltfsbcCpADaoyIiBdvTFELVh] command [arg ... ]
Description

latrace is able to run a command and display its dynamic library calls using a LD_AUDIT libc feature (available from libc version 2.4 onward - see the section called "DISCUSSION" ). It is also capable to measure and display various statistics of dynamic calls.

If the config file is provided, latrace will display symbol's arguments with detailed output for structures. The config file syntax is similar to the C language, with several exceptions (see the section called "CONFIG").

The latrace by default fully operates inside of the traced program. However another pipe mode is available, to move the main work to the latrace binary (see the section called "PIPE mode"). 

_____________
https://en.wikipedia.org/wiki/Executable_and_Linkable_Format
___________
How to configure and Install Config Server Firewall & Login failure Daemon
https://techarena51.com/blog/how-to-configure-and-install-config-server-firewall-login-failure-daemon/?utm_source=devopswiki
_____________
https://grsecurity.net/
Grsecurity® is an extensive security enhancement to the Linux kernel that defends against a wide range of security threats through intelligent access control, memory corruption-based exploit prevention, and a host of other system hardening that generally require no configuration.

It has been actively developed and maintained for the past 17 years. Commercial support for grsecurity is available through Open Source Security, Inc


Comparation grsecurity SELinux AppArmor KSPP
   https://www.grsecurity.net/compare.php

https://en.wikipedia.org/wiki/Grsecurity#PaX
   """A major component bundled with grsecurity is PaX. Among other features, 
  the patch flags data memory, the stack, for example, as non-executable and 
  program memory as non-writable. The aim is to prevent memory from being 
  overwritten, which can help to prevent many types of security vulnerabilities,
  such as buffer overflows. PaX also provides address space layout randomization
  (ASLR), which randomizes important memory addresses to reduce the probability
  of attacks that rely on easily predicted memory addresses."""

Hardening Debian for the Desktop Using Grsecurity
   https://micahflee.com/2016/01/debian-grsecurity/
___________________
http://clusterlabs.org/
The ClusterLabs stack unifies a large group of Open Source projects related to High Availability into a cluster offering suitable for both small and large deployments. Together, Corosync, Pacemaker, DRBD, ScanCore, and many other projects have been enabling detection and recovery of machine and application-level failures in production clusters since 1999. The ClusterLabs stack supports practically any redundancy configuration imaginable.

________________________________________
https://opensource.com/article/18/9/how-build-rpm-packages?sc_cid=701f2000000RRBZAA4
____________________________________________________
How to Use Systemd Timers as a Cron Replacement
https://www.maketecheasier.com/use-systemd-timers-as-cron-replacement/
____________________________________________________
Loop device
________________________________
https://www.thomas-krenn.com/en/wiki/Category:Storage
________________________________
</html>
