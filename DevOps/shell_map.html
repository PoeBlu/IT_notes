<!DOCTYPE html>
<html>
   <meta charset="UTF-8">
   <title>Shell Script map <!-- ignore --></title>
<head>
<script src="../map_v1.js"></script>
<link rel="stylesheet" type="text/css" href="../map_v1.css" />
</head>

<body>
<div groupv>
<pre zoom>
<span xsmall>Init Vars</span>
complete Shell parameter expansion list available at:
- @[http://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html]
var1=$1 # init var $1 with first param 
var1=$# # init var $1 with number of params
var1=${parameter:-word} # init $var1 with $parameter value or 'word'(or word expansion) if parameter unset or null
var1=${parameter:=word} # init $var1 with $parameter value or 'word'(or word expansion) if parameter unset or null. Also asign word to $parameter
var1=${parameter:?word} # If parameter is null/unset word (or word expansion) is written to the STDERR and exits.
var1=${parameter:+word} # If parameter is null or unset, nothing is substituted, otherwise the expansion of word is substituted.
${parameter:offset}
${parameter:offset:length}
# Substring Expansion. It expands to up to length characters of the value
  of parameter starting at the character specified by offset. 
  If parameter is '@', an indexed array subscripted by '@' or '*', or an
  associative array name, the results differ as described below. 
</pre>

<pre zoom labels="">
<span xsmall>Parse arguments</span>
#Oº$#º number of arguments
while [Oº$#º -gt 0 ]; do  
  echo $1
  case "$1" in
    -l|--list)
      echo "list arg"
      shift 1  # ºconsume arg         ← Oº$# = $#-1º
      ;;
    -p|--port)
      export PORT="${2}:"
      echo "port: $PORT"
      shift 2  # ºconsume arg+valueº  ← Oº$# = $#-2º
      ;;
    *)
      echo "non-recognised option"
      shift 1  # ºconsume argº        ← Oº$# = $#-1º
  esac  
done
</pre>

<pre zoom>
<span xsmall>bash REPL loop</span>
REPL stands for Read-eval-print loop: More info at:
@[https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop]
    # Define the list of a menu item
   ºselectºOºlanguageººinºC# Java PHP Python Bash Exit
   ºdoº
      #Print the selected value
      if [[ Oº$languageº == "Exit" ]] ; then
        exit 0 
      fi
      echo "Selected language is $language"
   ºdoneº
</pre>

<pre zoom labels="">
<span xsmall>trap: Exit script cleanly</span>
@[https://www.putorius.net/using-trap-to-exit-bash-scripts-cleanly.html]
</pre>

<pre zoom>
<span xsmall>Bash-it</span>
@[https://www.tecmint.com/bash-it-control-shell-scripts-aliases-in-linux/]
- bundle of community Bash commands and scripts for Bash 3.2+, 
  which comes with autocompletion, , aliases, custom functions, .... 
- It offers a useful framework for developing, maintaining and 
  using shell scripts and custom commands for your daily work.
</pre>


<pre zoom labels="">
<span xsmall>Bash 4+ Maps</span>
#!/usr/bin/env bash

declare -A animals                             # STEP !: declare associative array "animals"
animals=( ["key1"]="value1" ["key2"]="value2") # Init with some elements


Then use them just like normal arrays. Use animals['key']='value' to set value, "${animals[@]}" to expand the values, and "${!animals[@]}" (notice the !) to expand the keys. Don't forget to quote them:

echo "${animals[moo]}"
for sound in "${!animals[@]}"; do echo "$sound - ${animals[$sound]}"; done

Bash 3
</pre>
</div>

</body>
<!--
TODO_START: {
}
_______________________
https://www.ostechnix.com/test-your-bash-skills-by-playing-command-line-games/
_________________
https://medium.com/cameron-nokes/working-with-json-in-bash-using-jq-13d76d307c4
_____________________
-->

</html>
